ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"setup.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.MX_GPIO_Init,"ax",%progbits
  17              		.align	1
  18              		.global	MX_GPIO_Init
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	MX_GPIO_Init:
  25              	.LFB126:
  26              		.file 1 "Src/setup.c"
   1:Src/setup.c   **** /*
   2:Src/setup.c   **** * This file is part of the hoverboard-firmware-hack project.
   3:Src/setup.c   **** *
   4:Src/setup.c   **** * Copyright (C) 2017-2018 Rene Hopf <renehopf@mac.com>
   5:Src/setup.c   **** * Copyright (C) 2017-2018 Nico Stute <crinq@crinq.de>
   6:Src/setup.c   **** * Copyright (C) 2017-2018 Niklas Fauth <niklas.fauth@kit.fail>
   7:Src/setup.c   **** *
   8:Src/setup.c   **** * This program is free software: you can redistribute it and/or modify
   9:Src/setup.c   **** * it under the terms of the GNU General Public License as published by
  10:Src/setup.c   **** * the Free Software Foundation, either version 3 of the License, or
  11:Src/setup.c   **** * (at your option) any later version.
  12:Src/setup.c   **** *
  13:Src/setup.c   **** * This program is distributed in the hope that it will be useful,
  14:Src/setup.c   **** * but WITHOUT ANY WARRANTY; without even the implied warranty of
  15:Src/setup.c   **** * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  16:Src/setup.c   **** * GNU General Public License for more details.
  17:Src/setup.c   **** *
  18:Src/setup.c   **** * You should have received a copy of the GNU General Public License
  19:Src/setup.c   **** * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  20:Src/setup.c   **** */
  21:Src/setup.c   **** 
  22:Src/setup.c   **** /*
  23:Src/setup.c   **** tim1 master, enable -> trgo
  24:Src/setup.c   **** tim8, gated slave mode, trgo by tim1 trgo. overflow -> trgo
  25:Src/setup.c   **** adc1,adc2 triggered by tim8 trgo
  26:Src/setup.c   **** adc 1,2 dual mode
  27:Src/setup.c   **** 
  28:Src/setup.c   **** ADC1             ADC2
  29:Src/setup.c   **** R_Blau PC4 CH14  R_Gelb PC5 CH15
  30:Src/setup.c   **** L_Gr√ºn PA0 CH01  L_Blau PC3 CH13
  31:Src/setup.c   **** R_DC PC1 CH11    L_DC PC0 CH10
  32:Src/setup.c   **** BAT   PC2 CH12   L_TX PA2 CH02
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 2


  33:Src/setup.c   **** BAT   PC2 CH12   L_RX PA3 CH03
  34:Src/setup.c   **** 
  35:Src/setup.c   **** pb10 usart3 dma1 channel2/3
  36:Src/setup.c   **** */
  37:Src/setup.c   **** 
  38:Src/setup.c   **** #include "defines.h"
  39:Src/setup.c   **** #include "config.h"
  40:Src/setup.c   **** #include <stdio.h>
  41:Src/setup.c   **** #include <string.h>
  42:Src/setup.c   **** #include "setup.h"
  43:Src/setup.c   **** #include "flashcontent.h"
  44:Src/setup.c   **** #include "pid.h"
  45:Src/setup.c   **** 
  46:Src/setup.c   **** TIM_HandleTypeDef htim_right;
  47:Src/setup.c   **** TIM_HandleTypeDef htim_left;
  48:Src/setup.c   **** ADC_HandleTypeDef hadc1;
  49:Src/setup.c   **** ADC_HandleTypeDef hadc2;
  50:Src/setup.c   **** I2C_HandleTypeDef hi2c2;
  51:Src/setup.c   **** UART_HandleTypeDef huart2;
  52:Src/setup.c   **** UART_HandleTypeDef huart3;
  53:Src/setup.c   **** 
  54:Src/setup.c   **** 
  55:Src/setup.c   **** DMA_HandleTypeDef hdma_usart2_rx;
  56:Src/setup.c   **** DMA_HandleTypeDef hdma_usart2_tx;
  57:Src/setup.c   **** volatile adc_buf_t adc_buffer;
  58:Src/setup.c   **** 
  59:Src/setup.c   **** 
  60:Src/setup.c   **** DMA_HandleTypeDef hdma_i2c2_rx;
  61:Src/setup.c   **** DMA_HandleTypeDef hdma_i2c2_tx;
  62:Src/setup.c   **** 
  63:Src/setup.c   **** void MX_GPIO_Init(void) {
  27              		.loc 1 63 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 32
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 36
  34              		.cfi_offset 4, -36
  35              		.cfi_offset 5, -32
  36              		.cfi_offset 6, -28
  37              		.cfi_offset 7, -24
  38              		.cfi_offset 8, -20
  39              		.cfi_offset 9, -16
  40              		.cfi_offset 10, -12
  41              		.cfi_offset 11, -8
  42              		.cfi_offset 14, -4
  43 0004 89B0     		sub	sp, sp, #36
  44              	.LCFI1:
  45              		.cfi_def_cfa_offset 72
  46              	.LBB2:
  64:Src/setup.c   ****   GPIO_InitTypeDef GPIO_InitStruct;
  65:Src/setup.c   **** 
  66:Src/setup.c   ****   /* GPIO Ports Clock Enable */
  67:Src/setup.c   ****   __HAL_RCC_GPIOA_CLK_ENABLE();
  47              		.loc 1 67 0
  48 0006 7D4B     		ldr	r3, .L3
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 3


  49 0008 9A69     		ldr	r2, [r3, #24]
  50 000a 42F00402 		orr	r2, r2, #4
  51 000e 9A61     		str	r2, [r3, #24]
  52 0010 9A69     		ldr	r2, [r3, #24]
  53 0012 02F00402 		and	r2, r2, #4
  54 0016 0192     		str	r2, [sp, #4]
  55 0018 019A     		ldr	r2, [sp, #4]
  56              	.LBE2:
  57              	.LBB3:
  68:Src/setup.c   ****   __HAL_RCC_GPIOB_CLK_ENABLE();
  58              		.loc 1 68 0
  59 001a 9A69     		ldr	r2, [r3, #24]
  60 001c 42F00802 		orr	r2, r2, #8
  61 0020 9A61     		str	r2, [r3, #24]
  62 0022 9A69     		ldr	r2, [r3, #24]
  63 0024 02F00802 		and	r2, r2, #8
  64 0028 0292     		str	r2, [sp, #8]
  65 002a 029A     		ldr	r2, [sp, #8]
  66              	.LBE3:
  67              	.LBB4:
  69:Src/setup.c   ****   __HAL_RCC_GPIOC_CLK_ENABLE();
  68              		.loc 1 69 0
  69 002c 9A69     		ldr	r2, [r3, #24]
  70 002e 42F01002 		orr	r2, r2, #16
  71 0032 9A61     		str	r2, [r3, #24]
  72 0034 9B69     		ldr	r3, [r3, #24]
  73 0036 03F01003 		and	r3, r3, #16
  74 003a 0393     		str	r3, [sp, #12]
  75 003c 039B     		ldr	r3, [sp, #12]
  76              	.LBE4:
  70:Src/setup.c   **** 
  71:Src/setup.c   ****   GPIO_InitStruct.Pull  = GPIO_NOPULL;
  77              		.loc 1 71 0
  78 003e 4FF00008 		mov	r8, #0
  79 0042 CDF81880 		str	r8, [sp, #24]
  72:Src/setup.c   ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  80              		.loc 1 72 0
  81 0046 0227     		movs	r7, #2
  82 0048 0797     		str	r7, [sp, #28]
  73:Src/setup.c   **** 
  74:Src/setup.c   ****   //#ifdef HALL_INTERRUPTS
  75:Src/setup.c   ****     GPIO_InitStruct.Mode  = GPIO_MODE_IT_RISING_FALLING;
  83              		.loc 1 75 0
  84 004a 6D4B     		ldr	r3, .L3+4
  85 004c 0593     		str	r3, [sp, #20]
  76:Src/setup.c   ****   //#endif
  77:Src/setup.c   ****   
  78:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_HALL_U_PIN;
  86              		.loc 1 78 0
  87 004e 4FF0200A 		mov	r10, #32
  88 0052 0DEB0A04 		add	r4, sp, r10
  89 0056 44F810AD 		str	r10, [r4, #-16]!
  79:Src/setup.c   ****   HAL_GPIO_Init(LEFT_HALL_U_PORT, &GPIO_InitStruct);
  90              		.loc 1 79 0
  91 005a 2146     		mov	r1, r4
  92 005c 6948     		ldr	r0, .L3+8
  93 005e FFF7FEFF 		bl	HAL_GPIO_Init
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 4


  94              	.LVL0:
  80:Src/setup.c   **** 
  81:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_HALL_V_PIN;
  95              		.loc 1 81 0
  96 0062 4023     		movs	r3, #64
  97 0064 0493     		str	r3, [sp, #16]
  82:Src/setup.c   ****   HAL_GPIO_Init(LEFT_HALL_V_PORT, &GPIO_InitStruct);
  98              		.loc 1 82 0
  99 0066 2146     		mov	r1, r4
 100 0068 6648     		ldr	r0, .L3+8
 101 006a FFF7FEFF 		bl	HAL_GPIO_Init
 102              	.LVL1:
  83:Src/setup.c   **** 
  84:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_HALL_W_PIN;
 103              		.loc 1 84 0
 104 006e 8025     		movs	r5, #128
 105 0070 0495     		str	r5, [sp, #16]
  85:Src/setup.c   ****   HAL_GPIO_Init(LEFT_HALL_W_PORT, &GPIO_InitStruct);
 106              		.loc 1 85 0
 107 0072 2146     		mov	r1, r4
 108 0074 6348     		ldr	r0, .L3+8
 109 0076 FFF7FEFF 		bl	HAL_GPIO_Init
 110              	.LVL2:
  86:Src/setup.c   **** 
  87:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_HALL_U_PIN;
 111              		.loc 1 87 0
 112 007a 4FF48063 		mov	r3, #1024
 113 007e 0493     		str	r3, [sp, #16]
  88:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_HALL_U_PORT, &GPIO_InitStruct);
 114              		.loc 1 88 0
 115 0080 2146     		mov	r1, r4
 116 0082 6148     		ldr	r0, .L3+12
 117 0084 FFF7FEFF 		bl	HAL_GPIO_Init
 118              	.LVL3:
  89:Src/setup.c   **** 
  90:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_HALL_V_PIN;
 119              		.loc 1 90 0
 120 0088 4FF40063 		mov	r3, #2048
 121 008c 0493     		str	r3, [sp, #16]
  91:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_HALL_V_PORT, &GPIO_InitStruct);
 122              		.loc 1 91 0
 123 008e 2146     		mov	r1, r4
 124 0090 5D48     		ldr	r0, .L3+12
 125 0092 FFF7FEFF 		bl	HAL_GPIO_Init
 126              	.LVL4:
  92:Src/setup.c   **** 
  93:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_HALL_W_PIN;
 127              		.loc 1 93 0
 128 0096 4FF48056 		mov	r6, #4096
 129 009a 0496     		str	r6, [sp, #16]
  94:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_HALL_W_PORT, &GPIO_InitStruct);
 130              		.loc 1 94 0
 131 009c 2146     		mov	r1, r4
 132 009e 5A48     		ldr	r0, .L3+12
 133 00a0 FFF7FEFF 		bl	HAL_GPIO_Init
 134              	.LVL5:
  95:Src/setup.c   **** 
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 5


  96:Src/setup.c   ****   GPIO_InitStruct.Mode  = GPIO_MODE_INPUT;
 135              		.loc 1 96 0
 136 00a4 CDF81480 		str	r8, [sp, #20]
  97:Src/setup.c   **** 
  98:Src/setup.c   ****   GPIO_InitStruct.Pin = CHARGER_PIN;
 137              		.loc 1 98 0
 138 00a8 0496     		str	r6, [sp, #16]
  99:Src/setup.c   ****   HAL_GPIO_Init(CHARGER_PORT, &GPIO_InitStruct);
 139              		.loc 1 99 0
 140 00aa 2146     		mov	r1, r4
 141 00ac 5748     		ldr	r0, .L3+16
 142 00ae FFF7FEFF 		bl	HAL_GPIO_Init
 143              	.LVL6:
 100:Src/setup.c   **** 
 101:Src/setup.c   ****   GPIO_InitStruct.Pin = BUTTON_PIN;
 144              		.loc 1 101 0
 145 00b2 0497     		str	r7, [sp, #16]
 102:Src/setup.c   ****   HAL_GPIO_Init(BUTTON_PORT, &GPIO_InitStruct);
 146              		.loc 1 102 0
 147 00b4 2146     		mov	r1, r4
 148 00b6 5548     		ldr	r0, .L3+16
 149 00b8 FFF7FEFF 		bl	HAL_GPIO_Init
 150              	.LVL7:
 103:Src/setup.c   **** 
 104:Src/setup.c   **** 
 105:Src/setup.c   ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 151              		.loc 1 105 0
 152 00bc 4FF00108 		mov	r8, #1
 153 00c0 CDF81480 		str	r8, [sp, #20]
 106:Src/setup.c   **** 
 107:Src/setup.c   ****   GPIO_InitStruct.Pin = LED_PIN;
 154              		.loc 1 107 0
 155 00c4 4FF00409 		mov	r9, #4
 156 00c8 CDF81090 		str	r9, [sp, #16]
 108:Src/setup.c   ****   HAL_GPIO_Init(LED_PORT, &GPIO_InitStruct);
 157              		.loc 1 108 0
 158 00cc 2146     		mov	r1, r4
 159 00ce 4D48     		ldr	r0, .L3+8
 160 00d0 FFF7FEFF 		bl	HAL_GPIO_Init
 161              	.LVL8:
 109:Src/setup.c   **** 
 110:Src/setup.c   ****   GPIO_InitStruct.Pin = BUZZER_PIN;
 162              		.loc 1 110 0
 163 00d4 1026     		movs	r6, #16
 164 00d6 0496     		str	r6, [sp, #16]
 111:Src/setup.c   ****   HAL_GPIO_Init(BUZZER_PORT, &GPIO_InitStruct);
 165              		.loc 1 111 0
 166 00d8 2146     		mov	r1, r4
 167 00da 4C48     		ldr	r0, .L3+16
 168 00dc FFF7FEFF 		bl	HAL_GPIO_Init
 169              	.LVL9:
 112:Src/setup.c   **** 
 113:Src/setup.c   ****   GPIO_InitStruct.Pin = OFF_PIN;
 170              		.loc 1 113 0
 171 00e0 CDF810A0 		str	r10, [sp, #16]
 114:Src/setup.c   ****   HAL_GPIO_Init(OFF_PORT, &GPIO_InitStruct);
 172              		.loc 1 114 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 6


 173 00e4 2146     		mov	r1, r4
 174 00e6 4948     		ldr	r0, .L3+16
 175 00e8 FFF7FEFF 		bl	HAL_GPIO_Init
 176              	.LVL10:
 115:Src/setup.c   **** 
 116:Src/setup.c   **** 
 117:Src/setup.c   ****   GPIO_InitStruct.Mode = GPIO_MODE_ANALOG;
 177              		.loc 1 117 0
 178 00ec 0323     		movs	r3, #3
 179 00ee 0593     		str	r3, [sp, #20]
 118:Src/setup.c   **** 
 119:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_DC_CUR_PIN;
 180              		.loc 1 119 0
 181 00f0 CDF81080 		str	r8, [sp, #16]
 120:Src/setup.c   ****   HAL_GPIO_Init(LEFT_DC_CUR_PORT, &GPIO_InitStruct);
 182              		.loc 1 120 0
 183 00f4 2146     		mov	r1, r4
 184 00f6 4448     		ldr	r0, .L3+12
 185 00f8 FFF7FEFF 		bl	HAL_GPIO_Init
 186              	.LVL11:
 121:Src/setup.c   **** 
 122:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_U_CUR_PIN;
 187              		.loc 1 122 0
 188 00fc CDF81080 		str	r8, [sp, #16]
 123:Src/setup.c   ****   HAL_GPIO_Init(LEFT_U_CUR_PORT, &GPIO_InitStruct);
 189              		.loc 1 123 0
 190 0100 2146     		mov	r1, r4
 191 0102 4248     		ldr	r0, .L3+16
 192 0104 FFF7FEFF 		bl	HAL_GPIO_Init
 193              	.LVL12:
 124:Src/setup.c   **** 
 125:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_V_CUR_PIN;
 194              		.loc 1 125 0
 195 0108 4FF0080B 		mov	fp, #8
 196 010c CDF810B0 		str	fp, [sp, #16]
 126:Src/setup.c   ****   HAL_GPIO_Init(LEFT_V_CUR_PORT, &GPIO_InitStruct);
 197              		.loc 1 126 0
 198 0110 2146     		mov	r1, r4
 199 0112 3D48     		ldr	r0, .L3+12
 200 0114 FFF7FEFF 		bl	HAL_GPIO_Init
 201              	.LVL13:
 127:Src/setup.c   **** 
 128:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_DC_CUR_PIN;
 202              		.loc 1 128 0
 203 0118 0497     		str	r7, [sp, #16]
 129:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_DC_CUR_PORT, &GPIO_InitStruct);
 204              		.loc 1 129 0
 205 011a 2146     		mov	r1, r4
 206 011c 3A48     		ldr	r0, .L3+12
 207 011e FFF7FEFF 		bl	HAL_GPIO_Init
 208              	.LVL14:
 130:Src/setup.c   **** 
 131:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_U_CUR_PIN;
 209              		.loc 1 131 0
 210 0122 0496     		str	r6, [sp, #16]
 132:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_U_CUR_PORT, &GPIO_InitStruct);
 211              		.loc 1 132 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 7


 212 0124 2146     		mov	r1, r4
 213 0126 3848     		ldr	r0, .L3+12
 214 0128 FFF7FEFF 		bl	HAL_GPIO_Init
 215              	.LVL15:
 133:Src/setup.c   **** 
 134:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_V_CUR_PIN;
 216              		.loc 1 134 0
 217 012c CDF810A0 		str	r10, [sp, #16]
 135:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_V_CUR_PORT, &GPIO_InitStruct);
 218              		.loc 1 135 0
 219 0130 2146     		mov	r1, r4
 220 0132 3548     		ldr	r0, .L3+12
 221 0134 FFF7FEFF 		bl	HAL_GPIO_Init
 222              	.LVL16:
 136:Src/setup.c   **** 
 137:Src/setup.c   ****   GPIO_InitStruct.Pin = DCLINK_PIN;
 223              		.loc 1 137 0
 224 0138 CDF81090 		str	r9, [sp, #16]
 138:Src/setup.c   ****   HAL_GPIO_Init(DCLINK_PORT, &GPIO_InitStruct);
 225              		.loc 1 138 0
 226 013c 2146     		mov	r1, r4
 227 013e 3248     		ldr	r0, .L3+12
 228 0140 FFF7FEFF 		bl	HAL_GPIO_Init
 229              	.LVL17:
 139:Src/setup.c   **** 
 140:Src/setup.c   ****   //Analog in
 141:Src/setup.c   ****   GPIO_InitStruct.Pin = GPIO_PIN_3;
 230              		.loc 1 141 0
 231 0144 CDF810B0 		str	fp, [sp, #16]
 142:Src/setup.c   ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 232              		.loc 1 142 0
 233 0148 2146     		mov	r1, r4
 234 014a 3048     		ldr	r0, .L3+16
 235 014c FFF7FEFF 		bl	HAL_GPIO_Init
 236              	.LVL18:
 143:Src/setup.c   ****   GPIO_InitStruct.Pin = GPIO_PIN_2;
 237              		.loc 1 143 0
 238 0150 CDF81090 		str	r9, [sp, #16]
 144:Src/setup.c   ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 239              		.loc 1 144 0
 240 0154 2146     		mov	r1, r4
 241 0156 2D48     		ldr	r0, .L3+16
 242 0158 FFF7FEFF 		bl	HAL_GPIO_Init
 243              	.LVL19:
 145:Src/setup.c   **** 
 146:Src/setup.c   ****   GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 244              		.loc 1 146 0
 245 015c 0597     		str	r7, [sp, #20]
 147:Src/setup.c   **** 
 148:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_TIM_UH_PIN;
 246              		.loc 1 148 0
 247 015e 4023     		movs	r3, #64
 248 0160 0493     		str	r3, [sp, #16]
 149:Src/setup.c   ****   HAL_GPIO_Init(LEFT_TIM_UH_PORT, &GPIO_InitStruct);
 249              		.loc 1 149 0
 250 0162 2146     		mov	r1, r4
 251 0164 2848     		ldr	r0, .L3+12
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 8


 252 0166 FFF7FEFF 		bl	HAL_GPIO_Init
 253              	.LVL20:
 150:Src/setup.c   **** 
 151:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_TIM_VH_PIN;
 254              		.loc 1 151 0
 255 016a 0495     		str	r5, [sp, #16]
 152:Src/setup.c   ****   HAL_GPIO_Init(LEFT_TIM_VH_PORT, &GPIO_InitStruct);
 256              		.loc 1 152 0
 257 016c 2146     		mov	r1, r4
 258 016e 2648     		ldr	r0, .L3+12
 259 0170 FFF7FEFF 		bl	HAL_GPIO_Init
 260              	.LVL21:
 153:Src/setup.c   **** 
 154:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_TIM_WH_PIN;
 261              		.loc 1 154 0
 262 0174 4FF48079 		mov	r9, #256
 263 0178 CDF81090 		str	r9, [sp, #16]
 155:Src/setup.c   ****   HAL_GPIO_Init(LEFT_TIM_WH_PORT, &GPIO_InitStruct);
 264              		.loc 1 155 0
 265 017c 2146     		mov	r1, r4
 266 017e 2248     		ldr	r0, .L3+12
 267 0180 FFF7FEFF 		bl	HAL_GPIO_Init
 268              	.LVL22:
 156:Src/setup.c   **** 
 157:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_TIM_UL_PIN;
 269              		.loc 1 157 0
 270 0184 0495     		str	r5, [sp, #16]
 158:Src/setup.c   ****   HAL_GPIO_Init(LEFT_TIM_UL_PORT, &GPIO_InitStruct);
 271              		.loc 1 158 0
 272 0186 2146     		mov	r1, r4
 273 0188 2048     		ldr	r0, .L3+16
 274 018a FFF7FEFF 		bl	HAL_GPIO_Init
 275              	.LVL23:
 159:Src/setup.c   **** 
 160:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_TIM_VL_PIN;
 276              		.loc 1 160 0
 277 018e CDF81080 		str	r8, [sp, #16]
 161:Src/setup.c   ****   HAL_GPIO_Init(LEFT_TIM_VL_PORT, &GPIO_InitStruct);
 278              		.loc 1 161 0
 279 0192 2146     		mov	r1, r4
 280 0194 1B48     		ldr	r0, .L3+8
 281 0196 FFF7FEFF 		bl	HAL_GPIO_Init
 282              	.LVL24:
 162:Src/setup.c   **** 
 163:Src/setup.c   ****   GPIO_InitStruct.Pin = LEFT_TIM_WL_PIN;
 283              		.loc 1 163 0
 284 019a 0497     		str	r7, [sp, #16]
 164:Src/setup.c   ****   HAL_GPIO_Init(LEFT_TIM_WL_PORT, &GPIO_InitStruct);
 285              		.loc 1 164 0
 286 019c 2146     		mov	r1, r4
 287 019e 1948     		ldr	r0, .L3+8
 288 01a0 FFF7FEFF 		bl	HAL_GPIO_Init
 289              	.LVL25:
 165:Src/setup.c   **** 
 166:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_TIM_UH_PIN;
 290              		.loc 1 166 0
 291 01a4 CDF81090 		str	r9, [sp, #16]
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 9


 167:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_TIM_UH_PORT, &GPIO_InitStruct);
 292              		.loc 1 167 0
 293 01a8 2146     		mov	r1, r4
 294 01aa 1848     		ldr	r0, .L3+16
 295 01ac FFF7FEFF 		bl	HAL_GPIO_Init
 296              	.LVL26:
 168:Src/setup.c   **** 
 169:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_TIM_VH_PIN;
 297              		.loc 1 169 0
 298 01b0 4FF40073 		mov	r3, #512
 299 01b4 0493     		str	r3, [sp, #16]
 170:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_TIM_VH_PORT, &GPIO_InitStruct);
 300              		.loc 1 170 0
 301 01b6 2146     		mov	r1, r4
 302 01b8 1448     		ldr	r0, .L3+16
 303 01ba FFF7FEFF 		bl	HAL_GPIO_Init
 304              	.LVL27:
 171:Src/setup.c   **** 
 172:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_TIM_WH_PIN;
 305              		.loc 1 172 0
 306 01be 4FF48063 		mov	r3, #1024
 307 01c2 0493     		str	r3, [sp, #16]
 173:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_TIM_WH_PORT, &GPIO_InitStruct);
 308              		.loc 1 173 0
 309 01c4 2146     		mov	r1, r4
 310 01c6 1148     		ldr	r0, .L3+16
 311 01c8 FFF7FEFF 		bl	HAL_GPIO_Init
 312              	.LVL28:
 174:Src/setup.c   **** 
 175:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_TIM_UL_PIN;
 313              		.loc 1 175 0
 314 01cc 4FF40053 		mov	r3, #8192
 315 01d0 0493     		str	r3, [sp, #16]
 176:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_TIM_UL_PORT, &GPIO_InitStruct);
 316              		.loc 1 176 0
 317 01d2 2146     		mov	r1, r4
 318 01d4 0B48     		ldr	r0, .L3+8
 319 01d6 FFF7FEFF 		bl	HAL_GPIO_Init
 320              	.LVL29:
 177:Src/setup.c   **** 
 178:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_TIM_VL_PIN;
 321              		.loc 1 178 0
 322 01da 4FF48043 		mov	r3, #16384
 323 01de 0493     		str	r3, [sp, #16]
 179:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_TIM_VL_PORT, &GPIO_InitStruct);
 324              		.loc 1 179 0
 325 01e0 2146     		mov	r1, r4
 326 01e2 0848     		ldr	r0, .L3+8
 327 01e4 FFF7FEFF 		bl	HAL_GPIO_Init
 328              	.LVL30:
 180:Src/setup.c   **** 
 181:Src/setup.c   ****   GPIO_InitStruct.Pin = RIGHT_TIM_WL_PIN;
 329              		.loc 1 181 0
 330 01e8 4FF40043 		mov	r3, #32768
 331 01ec 0493     		str	r3, [sp, #16]
 182:Src/setup.c   ****   HAL_GPIO_Init(RIGHT_TIM_WL_PORT, &GPIO_InitStruct);
 332              		.loc 1 182 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 10


 333 01ee 2146     		mov	r1, r4
 334 01f0 0448     		ldr	r0, .L3+8
 335 01f2 FFF7FEFF 		bl	HAL_GPIO_Init
 336              	.LVL31:
 183:Src/setup.c   **** 
 184:Src/setup.c   **** }
 337              		.loc 1 184 0
 338 01f6 09B0     		add	sp, sp, #36
 339              	.LCFI2:
 340              		.cfi_def_cfa_offset 36
 341              		@ sp needed
 342 01f8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 343              	.L4:
 344              		.align	2
 345              	.L3:
 346 01fc 00100240 		.word	1073876992
 347 0200 00003110 		.word	271646720
 348 0204 000C0140 		.word	1073810432
 349 0208 00100140 		.word	1073811456
 350 020c 00080140 		.word	1073809408
 351              		.cfi_endproc
 352              	.LFE126:
 354              		.section	.text.Hall_Sensor_Init,"ax",%progbits
 355              		.align	1
 356              		.global	Hall_Sensor_Init
 357              		.syntax unified
 358              		.thumb
 359              		.thumb_func
 360              		.fpu fpv4-sp-d16
 362              	Hall_Sensor_Init:
 363              	.LFB127:
 185:Src/setup.c   **** 
 186:Src/setup.c   **** /* 
 187:Src/setup.c   **** * For some reason if we call the following routine early like in MX_GPIO_Init
 188:Src/setup.c   **** * we get Hard_Fault in other places.
 189:Src/setup.c   **** */
 190:Src/setup.c   **** void Hall_Sensor_Init(void) {
 364              		.loc 1 190 0
 365              		.cfi_startproc
 366              		@ args = 0, pretend = 0, frame = 0
 367              		@ frame_needed = 0, uses_anonymous_args = 0
 368 0000 08B5     		push	{r3, lr}
 369              	.LCFI3:
 370              		.cfi_def_cfa_offset 8
 371              		.cfi_offset 3, -8
 372              		.cfi_offset 14, -4
 191:Src/setup.c   ****     // enable IRQs for type hall effect sensor GPIOs.
 192:Src/setup.c   ****     HAL_NVIC_SetPriority(EXTI9_5_IRQn, 3, 0);
 373              		.loc 1 192 0
 374 0002 0022     		movs	r2, #0
 375 0004 0321     		movs	r1, #3
 376 0006 1720     		movs	r0, #23
 377 0008 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 378              	.LVL32:
 193:Src/setup.c   ****     HAL_NVIC_EnableIRQ(EXTI9_5_IRQn);
 379              		.loc 1 193 0
 380 000c 1720     		movs	r0, #23
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 11


 381 000e FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 382              	.LVL33:
 194:Src/setup.c   ****     HAL_NVIC_SetPriority(EXTI15_10_IRQn, 3, 0);
 383              		.loc 1 194 0
 384 0012 0022     		movs	r2, #0
 385 0014 0321     		movs	r1, #3
 386 0016 2820     		movs	r0, #40
 387 0018 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 388              	.LVL34:
 195:Src/setup.c   ****     HAL_NVIC_EnableIRQ(EXTI15_10_IRQn);
 389              		.loc 1 195 0
 390 001c 2820     		movs	r0, #40
 391 001e FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 392              	.LVL35:
 196:Src/setup.c   **** }
 393              		.loc 1 196 0
 394 0022 08BD     		pop	{r3, pc}
 395              		.cfi_endproc
 396              	.LFE127:
 398              		.section	.text.MX_TIM_Init,"ax",%progbits
 399              		.align	1
 400              		.global	MX_TIM_Init
 401              		.syntax unified
 402              		.thumb
 403              		.thumb_func
 404              		.fpu fpv4-sp-d16
 406              	MX_TIM_Init:
 407              	.LFB128:
 197:Src/setup.c   **** 
 198:Src/setup.c   **** void MX_TIM_Init(void) {
 408              		.loc 1 198 0
 409              		.cfi_startproc
 410              		@ args = 0, pretend = 0, frame = 96
 411              		@ frame_needed = 0, uses_anonymous_args = 0
 412 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 413              	.LCFI4:
 414              		.cfi_def_cfa_offset 36
 415              		.cfi_offset 4, -36
 416              		.cfi_offset 5, -32
 417              		.cfi_offset 6, -28
 418              		.cfi_offset 7, -24
 419              		.cfi_offset 8, -20
 420              		.cfi_offset 9, -16
 421              		.cfi_offset 10, -12
 422              		.cfi_offset 11, -8
 423              		.cfi_offset 14, -4
 424 0004 99B0     		sub	sp, sp, #100
 425              	.LCFI5:
 426              		.cfi_def_cfa_offset 136
 427              	.LBB5:
 199:Src/setup.c   ****   __HAL_RCC_TIM1_CLK_ENABLE();
 428              		.loc 1 199 0
 429 0006 794B     		ldr	r3, .L9
 430 0008 9A69     		ldr	r2, [r3, #24]
 431 000a 42F40062 		orr	r2, r2, #2048
 432 000e 9A61     		str	r2, [r3, #24]
 433 0010 9A69     		ldr	r2, [r3, #24]
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 12


 434 0012 02F40062 		and	r2, r2, #2048
 435 0016 0192     		str	r2, [sp, #4]
 436 0018 019A     		ldr	r2, [sp, #4]
 437              	.LBE5:
 438              	.LBB6:
 200:Src/setup.c   ****   __HAL_RCC_TIM8_CLK_ENABLE();
 439              		.loc 1 200 0
 440 001a 9A69     		ldr	r2, [r3, #24]
 441 001c 42F40052 		orr	r2, r2, #8192
 442 0020 9A61     		str	r2, [r3, #24]
 443 0022 9B69     		ldr	r3, [r3, #24]
 444 0024 03F40053 		and	r3, r3, #8192
 445 0028 0293     		str	r3, [sp, #8]
 446 002a 029B     		ldr	r3, [sp, #8]
 447              	.LBE6:
 201:Src/setup.c   **** 
 202:Src/setup.c   ****   TIM_MasterConfigTypeDef sMasterConfig;
 203:Src/setup.c   ****   TIM_OC_InitTypeDef sConfigOC;
 204:Src/setup.c   ****   TIM_BreakDeadTimeConfigTypeDef sBreakDeadTimeConfig;
 205:Src/setup.c   ****   TIM_SlaveConfigTypeDef sTimConfig;
 206:Src/setup.c   **** 
 207:Src/setup.c   ****   htim_right.Instance               = RIGHT_TIM;
 448              		.loc 1 207 0
 449 002c 704E     		ldr	r6, .L9+4
 450 002e 714F     		ldr	r7, .L9+8
 451 0030 3760     		str	r7, [r6]
 208:Src/setup.c   ****   htim_right.Init.Prescaler         = 0;
 452              		.loc 1 208 0
 453 0032 0024     		movs	r4, #0
 454 0034 7460     		str	r4, [r6, #4]
 209:Src/setup.c   ****   htim_right.Init.CounterMode       = TIM_COUNTERMODE_CENTERALIGNED1;
 455              		.loc 1 209 0
 456 0036 4FF02008 		mov	r8, #32
 457 003a C6F80880 		str	r8, [r6, #8]
 210:Src/setup.c   ****   htim_right.Init.Period            = SystemCoreClock / 2 / PWM_FREQ;
 458              		.loc 1 210 0
 459 003e DFF8BCB1 		ldr	fp, .L9+16
 460 0042 DBF80030 		ldr	r3, [fp]
 461 0046 DFF8B8A1 		ldr	r10, .L9+20
 462 004a AAFB0323 		umull	r2, r3, r10, r3
 463 004e DB0A     		lsrs	r3, r3, #11
 464 0050 F360     		str	r3, [r6, #12]
 211:Src/setup.c   ****   htim_right.Init.ClockDivision     = TIM_CLOCKDIVISION_DIV1;
 465              		.loc 1 211 0
 466 0052 3461     		str	r4, [r6, #16]
 212:Src/setup.c   ****   htim_right.Init.RepetitionCounter = 0;
 467              		.loc 1 212 0
 468 0054 7461     		str	r4, [r6, #20]
 213:Src/setup.c   ****   htim_right.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_DISABLE;
 469              		.loc 1 213 0
 470 0056 B461     		str	r4, [r6, #24]
 214:Src/setup.c   ****   HAL_TIM_PWM_Init(&htim_right);
 471              		.loc 1 214 0
 472 0058 3046     		mov	r0, r6
 473 005a FFF7FEFF 		bl	HAL_TIM_PWM_Init
 474              	.LVL36:
 215:Src/setup.c   **** 
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 13


 216:Src/setup.c   ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_ENABLE;
 475              		.loc 1 216 0
 476 005e 1023     		movs	r3, #16
 477 0060 1693     		str	r3, [sp, #88]
 217:Src/setup.c   ****   sMasterConfig.MasterSlaveMode     = TIM_MASTERSLAVEMODE_DISABLE;
 478              		.loc 1 217 0
 479 0062 1794     		str	r4, [sp, #92]
 218:Src/setup.c   ****   HAL_TIMEx_MasterConfigSynchronization(&htim_right, &sMasterConfig);
 480              		.loc 1 218 0
 481 0064 16A9     		add	r1, sp, #88
 482 0066 3046     		mov	r0, r6
 483 0068 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 484              	.LVL37:
 219:Src/setup.c   **** 
 220:Src/setup.c   ****   sConfigOC.OCMode       = TIM_OCMODE_PWM1;
 485              		.loc 1 220 0
 486 006c 6023     		movs	r3, #96
 487 006e 0F93     		str	r3, [sp, #60]
 221:Src/setup.c   ****   sConfigOC.Pulse        = 0;
 488              		.loc 1 221 0
 489 0070 1094     		str	r4, [sp, #64]
 222:Src/setup.c   ****   sConfigOC.OCPolarity   = TIM_OCPOLARITY_HIGH;
 490              		.loc 1 222 0
 491 0072 1194     		str	r4, [sp, #68]
 223:Src/setup.c   ****   sConfigOC.OCNPolarity  = TIM_OCNPOLARITY_LOW;
 492              		.loc 1 223 0
 493 0074 0823     		movs	r3, #8
 494 0076 1293     		str	r3, [sp, #72]
 224:Src/setup.c   ****   sConfigOC.OCFastMode   = TIM_OCFAST_DISABLE;
 495              		.loc 1 224 0
 496 0078 1394     		str	r4, [sp, #76]
 225:Src/setup.c   ****   sConfigOC.OCIdleState  = TIM_OCIDLESTATE_RESET;
 497              		.loc 1 225 0
 498 007a 1494     		str	r4, [sp, #80]
 226:Src/setup.c   ****   sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_SET;
 499              		.loc 1 226 0
 500 007c 4FF40073 		mov	r3, #512
 501 0080 1593     		str	r3, [sp, #84]
 227:Src/setup.c   ****   HAL_TIM_PWM_ConfigChannel(&htim_right, &sConfigOC, TIM_CHANNEL_1);
 502              		.loc 1 227 0
 503 0082 2246     		mov	r2, r4
 504 0084 0FA9     		add	r1, sp, #60
 505 0086 3046     		mov	r0, r6
 506 0088 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 507              	.LVL38:
 228:Src/setup.c   ****   HAL_TIM_PWM_ConfigChannel(&htim_right, &sConfigOC, TIM_CHANNEL_2);
 508              		.loc 1 228 0
 509 008c 0422     		movs	r2, #4
 510 008e 0FA9     		add	r1, sp, #60
 511 0090 3046     		mov	r0, r6
 512 0092 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 513              	.LVL39:
 229:Src/setup.c   ****   HAL_TIM_PWM_ConfigChannel(&htim_right, &sConfigOC, TIM_CHANNEL_3);
 514              		.loc 1 229 0
 515 0096 0822     		movs	r2, #8
 516 0098 0FA9     		add	r1, sp, #60
 517 009a 3046     		mov	r0, r6
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 14


 518 009c FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 519              	.LVL40:
 230:Src/setup.c   **** 
 231:Src/setup.c   ****   sBreakDeadTimeConfig.OffStateRunMode  = TIM_OSSR_ENABLE;
 520              		.loc 1 231 0
 521 00a0 4FF40063 		mov	r3, #2048
 522 00a4 0893     		str	r3, [sp, #32]
 232:Src/setup.c   ****   sBreakDeadTimeConfig.OffStateIDLEMode = TIM_OSSI_ENABLE;
 523              		.loc 1 232 0
 524 00a6 4FF48063 		mov	r3, #1024
 525 00aa 0993     		str	r3, [sp, #36]
 233:Src/setup.c   ****   sBreakDeadTimeConfig.LockLevel        = TIM_LOCKLEVEL_OFF;
 526              		.loc 1 233 0
 527 00ac 0A94     		str	r4, [sp, #40]
 234:Src/setup.c   ****   sBreakDeadTimeConfig.DeadTime         = DEAD_TIME;
 528              		.loc 1 234 0
 529 00ae CDF82C80 		str	r8, [sp, #44]
 235:Src/setup.c   ****   sBreakDeadTimeConfig.BreakState       = TIM_BREAK_DISABLE;
 530              		.loc 1 235 0
 531 00b2 0C94     		str	r4, [sp, #48]
 236:Src/setup.c   ****   sBreakDeadTimeConfig.BreakPolarity    = TIM_BREAKPOLARITY_LOW;
 532              		.loc 1 236 0
 533 00b4 0D94     		str	r4, [sp, #52]
 237:Src/setup.c   ****   sBreakDeadTimeConfig.AutomaticOutput  = TIM_AUTOMATICOUTPUT_DISABLE;
 534              		.loc 1 237 0
 535 00b6 0E94     		str	r4, [sp, #56]
 238:Src/setup.c   ****   HAL_TIMEx_ConfigBreakDeadTime(&htim_right, &sBreakDeadTimeConfig);
 536              		.loc 1 238 0
 537 00b8 0DEB0801 		add	r1, sp, r8
 538 00bc 3046     		mov	r0, r6
 539 00be FFF7FEFF 		bl	HAL_TIMEx_ConfigBreakDeadTime
 540              	.LVL41:
 239:Src/setup.c   **** 
 240:Src/setup.c   ****   htim_left.Instance               = LEFT_TIM;
 541              		.loc 1 240 0
 542 00c2 4D4D     		ldr	r5, .L9+12
 543 00c4 DFF83C91 		ldr	r9, .L9+24
 544 00c8 C5F80090 		str	r9, [r5]
 241:Src/setup.c   ****   htim_left.Init.Prescaler         = 0;
 545              		.loc 1 241 0
 546 00cc 6C60     		str	r4, [r5, #4]
 242:Src/setup.c   ****   htim_left.Init.CounterMode       = TIM_COUNTERMODE_CENTERALIGNED1;
 547              		.loc 1 242 0
 548 00ce C5F80880 		str	r8, [r5, #8]
 243:Src/setup.c   ****   htim_left.Init.Period            = SystemCoreClock / 2 / PWM_FREQ;
 549              		.loc 1 243 0
 550 00d2 DBF80030 		ldr	r3, [fp]
 551 00d6 AAFB033A 		umull	r3, r10, r10, r3
 552 00da 4FEADA23 		lsr	r3, r10, #11
 553 00de EB60     		str	r3, [r5, #12]
 244:Src/setup.c   ****   htim_left.Init.ClockDivision     = TIM_CLOCKDIVISION_DIV1;
 554              		.loc 1 244 0
 555 00e0 2C61     		str	r4, [r5, #16]
 245:Src/setup.c   ****   htim_left.Init.RepetitionCounter = 0;
 556              		.loc 1 245 0
 557 00e2 6C61     		str	r4, [r5, #20]
 246:Src/setup.c   ****   htim_left.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_DISABLE;
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 15


 558              		.loc 1 246 0
 559 00e4 AC61     		str	r4, [r5, #24]
 247:Src/setup.c   ****   HAL_TIM_PWM_Init(&htim_left);
 560              		.loc 1 247 0
 561 00e6 2846     		mov	r0, r5
 562 00e8 FFF7FEFF 		bl	HAL_TIM_PWM_Init
 563              	.LVL42:
 248:Src/setup.c   **** 
 249:Src/setup.c   ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_UPDATE;
 564              		.loc 1 249 0
 565 00ec CDF85880 		str	r8, [sp, #88]
 250:Src/setup.c   ****   sMasterConfig.MasterSlaveMode     = TIM_MASTERSLAVEMODE_ENABLE;
 566              		.loc 1 250 0
 567 00f0 8023     		movs	r3, #128
 568 00f2 1793     		str	r3, [sp, #92]
 251:Src/setup.c   ****   HAL_TIMEx_MasterConfigSynchronization(&htim_left, &sMasterConfig);
 569              		.loc 1 251 0
 570 00f4 16A9     		add	r1, sp, #88
 571 00f6 2846     		mov	r0, r5
 572 00f8 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 573              	.LVL43:
 252:Src/setup.c   **** 
 253:Src/setup.c   ****   sTimConfig.InputTrigger = TIM_TS_ITR0;
 574              		.loc 1 253 0
 575 00fc 0494     		str	r4, [sp, #16]
 254:Src/setup.c   ****   sTimConfig.SlaveMode    = TIM_SLAVEMODE_GATED;
 576              		.loc 1 254 0
 577 00fe 18A9     		add	r1, sp, #96
 578 0100 0523     		movs	r3, #5
 579 0102 41F8543D 		str	r3, [r1, #-84]!
 255:Src/setup.c   ****   HAL_TIM_SlaveConfigSynchronization(&htim_left, &sTimConfig);
 580              		.loc 1 255 0
 581 0106 2846     		mov	r0, r5
 582 0108 FFF7FEFF 		bl	HAL_TIM_SlaveConfigSynchronization
 583              	.LVL44:
 256:Src/setup.c   **** 
 257:Src/setup.c   ****   sConfigOC.OCMode       = TIM_OCMODE_PWM1;
 584              		.loc 1 257 0
 585 010c 6023     		movs	r3, #96
 586 010e 0F93     		str	r3, [sp, #60]
 258:Src/setup.c   ****   sConfigOC.Pulse        = 0;
 587              		.loc 1 258 0
 588 0110 1094     		str	r4, [sp, #64]
 259:Src/setup.c   ****   sConfigOC.OCPolarity   = TIM_OCPOLARITY_HIGH;
 589              		.loc 1 259 0
 590 0112 1194     		str	r4, [sp, #68]
 260:Src/setup.c   ****   sConfigOC.OCNPolarity  = TIM_OCNPOLARITY_LOW;
 591              		.loc 1 260 0
 592 0114 0823     		movs	r3, #8
 593 0116 1293     		str	r3, [sp, #72]
 261:Src/setup.c   ****   sConfigOC.OCFastMode   = TIM_OCFAST_DISABLE;
 594              		.loc 1 261 0
 595 0118 1394     		str	r4, [sp, #76]
 262:Src/setup.c   ****   sConfigOC.OCIdleState  = TIM_OCIDLESTATE_RESET;
 596              		.loc 1 262 0
 597 011a 1494     		str	r4, [sp, #80]
 263:Src/setup.c   ****   sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_SET;
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 16


 598              		.loc 1 263 0
 599 011c 4FF40073 		mov	r3, #512
 600 0120 1593     		str	r3, [sp, #84]
 264:Src/setup.c   ****   HAL_TIM_PWM_ConfigChannel(&htim_left, &sConfigOC, TIM_CHANNEL_1);
 601              		.loc 1 264 0
 602 0122 2246     		mov	r2, r4
 603 0124 0FA9     		add	r1, sp, #60
 604 0126 2846     		mov	r0, r5
 605 0128 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 606              	.LVL45:
 265:Src/setup.c   ****   HAL_TIM_PWM_ConfigChannel(&htim_left, &sConfigOC, TIM_CHANNEL_2);
 607              		.loc 1 265 0
 608 012c 0422     		movs	r2, #4
 609 012e 0FA9     		add	r1, sp, #60
 610 0130 2846     		mov	r0, r5
 611 0132 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 612              	.LVL46:
 266:Src/setup.c   ****   HAL_TIM_PWM_ConfigChannel(&htim_left, &sConfigOC, TIM_CHANNEL_3);
 613              		.loc 1 266 0
 614 0136 0822     		movs	r2, #8
 615 0138 0FA9     		add	r1, sp, #60
 616 013a 2846     		mov	r0, r5
 617 013c FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 618              	.LVL47:
 267:Src/setup.c   **** 
 268:Src/setup.c   ****   sBreakDeadTimeConfig.OffStateRunMode  = TIM_OSSR_ENABLE;
 619              		.loc 1 268 0
 620 0140 4FF40063 		mov	r3, #2048
 621 0144 0893     		str	r3, [sp, #32]
 269:Src/setup.c   ****   sBreakDeadTimeConfig.OffStateIDLEMode = TIM_OSSI_ENABLE;
 622              		.loc 1 269 0
 623 0146 4FF48063 		mov	r3, #1024
 624 014a 0993     		str	r3, [sp, #36]
 270:Src/setup.c   ****   sBreakDeadTimeConfig.LockLevel        = TIM_LOCKLEVEL_OFF;
 625              		.loc 1 270 0
 626 014c 0A94     		str	r4, [sp, #40]
 271:Src/setup.c   ****   sBreakDeadTimeConfig.DeadTime         = DEAD_TIME;
 627              		.loc 1 271 0
 628 014e CDF82C80 		str	r8, [sp, #44]
 272:Src/setup.c   ****   sBreakDeadTimeConfig.BreakState       = TIM_BREAK_DISABLE;
 629              		.loc 1 272 0
 630 0152 0C94     		str	r4, [sp, #48]
 273:Src/setup.c   ****   sBreakDeadTimeConfig.BreakPolarity    = TIM_BREAKPOLARITY_LOW;
 631              		.loc 1 273 0
 632 0154 0D94     		str	r4, [sp, #52]
 274:Src/setup.c   ****   sBreakDeadTimeConfig.AutomaticOutput  = TIM_AUTOMATICOUTPUT_DISABLE;
 633              		.loc 1 274 0
 634 0156 0E94     		str	r4, [sp, #56]
 275:Src/setup.c   ****   HAL_TIMEx_ConfigBreakDeadTime(&htim_left, &sBreakDeadTimeConfig);
 635              		.loc 1 275 0
 636 0158 0DEB0801 		add	r1, sp, r8
 637 015c 2846     		mov	r0, r5
 638 015e FFF7FEFF 		bl	HAL_TIMEx_ConfigBreakDeadTime
 639              	.LVL48:
 276:Src/setup.c   **** 
 277:Src/setup.c   ****   LEFT_TIM->BDTR &= ~TIM_BDTR_MOE;
 640              		.loc 1 277 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 17


 641 0162 D9F84430 		ldr	r3, [r9, #68]
 642 0166 23F40043 		bic	r3, r3, #32768
 643 016a C9F84430 		str	r3, [r9, #68]
 278:Src/setup.c   ****   RIGHT_TIM->BDTR &= ~TIM_BDTR_MOE;
 644              		.loc 1 278 0
 645 016e 7B6C     		ldr	r3, [r7, #68]
 646 0170 23F40043 		bic	r3, r3, #32768
 647 0174 7B64     		str	r3, [r7, #68]
 279:Src/setup.c   **** 
 280:Src/setup.c   ****   HAL_TIM_PWM_Start(&htim_left, TIM_CHANNEL_1);
 648              		.loc 1 280 0
 649 0176 2146     		mov	r1, r4
 650 0178 2846     		mov	r0, r5
 651 017a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 652              	.LVL49:
 281:Src/setup.c   ****   HAL_TIM_PWM_Start(&htim_left, TIM_CHANNEL_2);
 653              		.loc 1 281 0
 654 017e 0421     		movs	r1, #4
 655 0180 2846     		mov	r0, r5
 656 0182 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 657              	.LVL50:
 282:Src/setup.c   ****   HAL_TIM_PWM_Start(&htim_left, TIM_CHANNEL_3);
 658              		.loc 1 282 0
 659 0186 0821     		movs	r1, #8
 660 0188 2846     		mov	r0, r5
 661 018a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 662              	.LVL51:
 283:Src/setup.c   ****   HAL_TIMEx_PWMN_Start(&htim_left, TIM_CHANNEL_1);
 663              		.loc 1 283 0
 664 018e 2146     		mov	r1, r4
 665 0190 2846     		mov	r0, r5
 666 0192 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 667              	.LVL52:
 284:Src/setup.c   ****   HAL_TIMEx_PWMN_Start(&htim_left, TIM_CHANNEL_2);
 668              		.loc 1 284 0
 669 0196 0421     		movs	r1, #4
 670 0198 2846     		mov	r0, r5
 671 019a FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 672              	.LVL53:
 285:Src/setup.c   ****   HAL_TIMEx_PWMN_Start(&htim_left, TIM_CHANNEL_3);
 673              		.loc 1 285 0
 674 019e 0821     		movs	r1, #8
 675 01a0 2846     		mov	r0, r5
 676 01a2 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 677              	.LVL54:
 286:Src/setup.c   **** 
 287:Src/setup.c   ****   HAL_TIM_PWM_Start(&htim_right, TIM_CHANNEL_1);
 678              		.loc 1 287 0
 679 01a6 2146     		mov	r1, r4
 680 01a8 3046     		mov	r0, r6
 681 01aa FFF7FEFF 		bl	HAL_TIM_PWM_Start
 682              	.LVL55:
 288:Src/setup.c   ****   HAL_TIM_PWM_Start(&htim_right, TIM_CHANNEL_2);
 683              		.loc 1 288 0
 684 01ae 0421     		movs	r1, #4
 685 01b0 3046     		mov	r0, r6
 686 01b2 FFF7FEFF 		bl	HAL_TIM_PWM_Start
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 18


 687              	.LVL56:
 289:Src/setup.c   ****   HAL_TIM_PWM_Start(&htim_right, TIM_CHANNEL_3);
 688              		.loc 1 289 0
 689 01b6 0821     		movs	r1, #8
 690 01b8 3046     		mov	r0, r6
 691 01ba FFF7FEFF 		bl	HAL_TIM_PWM_Start
 692              	.LVL57:
 290:Src/setup.c   ****   HAL_TIMEx_PWMN_Start(&htim_right, TIM_CHANNEL_1);
 693              		.loc 1 290 0
 694 01be 2146     		mov	r1, r4
 695 01c0 3046     		mov	r0, r6
 696 01c2 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 697              	.LVL58:
 291:Src/setup.c   ****   HAL_TIMEx_PWMN_Start(&htim_right, TIM_CHANNEL_2);
 698              		.loc 1 291 0
 699 01c6 0421     		movs	r1, #4
 700 01c8 3046     		mov	r0, r6
 701 01ca FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 702              	.LVL59:
 292:Src/setup.c   ****   HAL_TIMEx_PWMN_Start(&htim_right, TIM_CHANNEL_3);
 703              		.loc 1 292 0
 704 01ce 0821     		movs	r1, #8
 705 01d0 3046     		mov	r0, r6
 706 01d2 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 707              	.LVL60:
 293:Src/setup.c   **** 
 294:Src/setup.c   ****   htim_left.Instance->RCR = 1;
 708              		.loc 1 294 0
 709 01d6 2B68     		ldr	r3, [r5]
 710 01d8 0122     		movs	r2, #1
 711 01da 1A63     		str	r2, [r3, #48]
 295:Src/setup.c   **** 
 296:Src/setup.c   ****   __HAL_TIM_ENABLE(&htim_right);
 712              		.loc 1 296 0
 713 01dc 3268     		ldr	r2, [r6]
 714 01de 1368     		ldr	r3, [r2]
 715 01e0 43F00103 		orr	r3, r3, #1
 716 01e4 1360     		str	r3, [r2]
 297:Src/setup.c   **** }
 717              		.loc 1 297 0
 718 01e6 19B0     		add	sp, sp, #100
 719              	.LCFI6:
 720              		.cfi_def_cfa_offset 36
 721              		@ sp needed
 722 01e8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 723              	.L10:
 724              		.align	2
 725              	.L9:
 726 01ec 00100240 		.word	1073876992
 727 01f0 00000000 		.word	htim_right
 728 01f4 002C0140 		.word	1073818624
 729 01f8 00000000 		.word	htim_left
 730 01fc 00000000 		.word	SystemCoreClock
 731 0200 D34D6210 		.word	274877907
 732 0204 00340140 		.word	1073820672
 733              		.cfi_endproc
 734              	.LFE128:
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 19


 736              		.section	.text.MX_ADC1_Init,"ax",%progbits
 737              		.align	1
 738              		.global	MX_ADC1_Init
 739              		.syntax unified
 740              		.thumb
 741              		.thumb_func
 742              		.fpu fpv4-sp-d16
 744              	MX_ADC1_Init:
 745              	.LFB129:
 298:Src/setup.c   **** 
 299:Src/setup.c   **** void MX_ADC1_Init(void) {
 746              		.loc 1 299 0
 747              		.cfi_startproc
 748              		@ args = 0, pretend = 0, frame = 24
 749              		@ frame_needed = 0, uses_anonymous_args = 0
 750 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 751              	.LCFI7:
 752              		.cfi_def_cfa_offset 24
 753              		.cfi_offset 4, -24
 754              		.cfi_offset 5, -20
 755              		.cfi_offset 6, -16
 756              		.cfi_offset 7, -12
 757              		.cfi_offset 8, -8
 758              		.cfi_offset 14, -4
 759 0004 86B0     		sub	sp, sp, #24
 760              	.LCFI8:
 761              		.cfi_def_cfa_offset 48
 762              	.LBB7:
 300:Src/setup.c   ****   ADC_MultiModeTypeDef multimode;
 301:Src/setup.c   ****   ADC_ChannelConfTypeDef sConfig;
 302:Src/setup.c   **** 
 303:Src/setup.c   ****   __HAL_RCC_ADC1_CLK_ENABLE();
 763              		.loc 1 303 0
 764 0006 424E     		ldr	r6, .L13
 765 0008 B369     		ldr	r3, [r6, #24]
 766 000a 43F40073 		orr	r3, r3, #512
 767 000e B361     		str	r3, [r6, #24]
 768 0010 B369     		ldr	r3, [r6, #24]
 769 0012 03F40073 		and	r3, r3, #512
 770 0016 0093     		str	r3, [sp]
 771 0018 009B     		ldr	r3, [sp]
 772              	.LBE7:
 304:Src/setup.c   **** 
 305:Src/setup.c   ****   hadc1.Instance                   = ADC1;
 773              		.loc 1 305 0
 774 001a 3E4C     		ldr	r4, .L13+4
 775 001c 3E4B     		ldr	r3, .L13+8
 776 001e 2360     		str	r3, [r4]
 306:Src/setup.c   ****   hadc1.Init.ScanConvMode          = ADC_SCAN_ENABLE;
 777              		.loc 1 306 0
 778 0020 4FF48073 		mov	r3, #256
 779 0024 A360     		str	r3, [r4, #8]
 307:Src/setup.c   ****   hadc1.Init.ContinuousConvMode    = DISABLE;
 780              		.loc 1 307 0
 781 0026 0025     		movs	r5, #0
 782 0028 E560     		str	r5, [r4, #12]
 308:Src/setup.c   ****   hadc1.Init.DiscontinuousConvMode = DISABLE;
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 20


 783              		.loc 1 308 0
 784 002a 6561     		str	r5, [r4, #20]
 309:Src/setup.c   ****   hadc1.Init.ExternalTrigConv      = ADC_EXTERNALTRIGCONV_T8_TRGO;
 785              		.loc 1 309 0
 786 002c 4FF44023 		mov	r3, #786432
 787 0030 E361     		str	r3, [r4, #28]
 310:Src/setup.c   ****   hadc1.Init.DataAlign             = ADC_DATAALIGN_RIGHT;
 788              		.loc 1 310 0
 789 0032 6560     		str	r5, [r4, #4]
 311:Src/setup.c   ****   hadc1.Init.NbrOfConversion       = 5;
 790              		.loc 1 311 0
 791 0034 4FF00508 		mov	r8, #5
 792 0038 C4F81080 		str	r8, [r4, #16]
 312:Src/setup.c   ****   HAL_ADC_Init(&hadc1);
 793              		.loc 1 312 0
 794 003c 2046     		mov	r0, r4
 795 003e FFF7FEFF 		bl	HAL_ADC_Init
 796              	.LVL61:
 313:Src/setup.c   ****   /**Enable or disable the remapping of ADC1_ETRGREG:
 314:Src/setup.c   ****     * ADC1 External Event regular conversion is connected to TIM8 TRG0
 315:Src/setup.c   ****     */
 316:Src/setup.c   ****   __HAL_AFIO_REMAP_ADC1_ETRGREG_ENABLE();
 797              		.loc 1 316 0
 798 0042 364A     		ldr	r2, .L13+12
 799 0044 5368     		ldr	r3, [r2, #4]
 800 0046 43F48023 		orr	r3, r3, #262144
 801 004a 5360     		str	r3, [r2, #4]
 317:Src/setup.c   **** 
 318:Src/setup.c   ****   /**Configure the ADC multi-mode
 319:Src/setup.c   ****     */
 320:Src/setup.c   ****   multimode.Mode = ADC_DUALMODE_REGSIMULT;
 802              		.loc 1 320 0
 803 004c 06A9     		add	r1, sp, #24
 804 004e 4FF4C023 		mov	r3, #393216
 805 0052 41F8043D 		str	r3, [r1, #-4]!
 321:Src/setup.c   ****   HAL_ADCEx_MultiModeConfigChannel(&hadc1, &multimode);
 806              		.loc 1 321 0
 807 0056 2046     		mov	r0, r4
 808 0058 FFF7FEFF 		bl	HAL_ADCEx_MultiModeConfigChannel
 809              	.LVL62:
 322:Src/setup.c   **** 
 323:Src/setup.c   ****   sConfig.SamplingTime = ADC_SAMPLETIME_7CYCLES_5;
 810              		.loc 1 323 0
 811 005c 0123     		movs	r3, #1
 812 005e 0493     		str	r3, [sp, #16]
 324:Src/setup.c   **** 
 325:Src/setup.c   ****   sConfig.Channel = ADC_CHANNEL_14;  // pc4 left b
 813              		.loc 1 325 0
 814 0060 0E22     		movs	r2, #14
 815 0062 0292     		str	r2, [sp, #8]
 326:Src/setup.c   ****   sConfig.Rank    = 1;
 816              		.loc 1 326 0
 817 0064 0393     		str	r3, [sp, #12]
 327:Src/setup.c   ****   HAL_ADC_ConfigChannel(&hadc1, &sConfig);
 818              		.loc 1 327 0
 819 0066 02A9     		add	r1, sp, #8
 820 0068 2046     		mov	r0, r4
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 21


 821 006a FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 822              	.LVL63:
 328:Src/setup.c   **** 
 329:Src/setup.c   ****   sConfig.Channel = ADC_CHANNEL_0;  // pa0 right a
 823              		.loc 1 329 0
 824 006e 0295     		str	r5, [sp, #8]
 330:Src/setup.c   ****   sConfig.Rank    = 2;
 825              		.loc 1 330 0
 826 0070 0227     		movs	r7, #2
 827 0072 0397     		str	r7, [sp, #12]
 331:Src/setup.c   ****   HAL_ADC_ConfigChannel(&hadc1, &sConfig);
 828              		.loc 1 331 0
 829 0074 02A9     		add	r1, sp, #8
 830 0076 2046     		mov	r0, r4
 831 0078 FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 832              	.LVL64:
 332:Src/setup.c   **** 
 333:Src/setup.c   ****   sConfig.SamplingTime = ADC_SAMPLETIME_13CYCLES_5;
 833              		.loc 1 333 0
 834 007c 0497     		str	r7, [sp, #16]
 334:Src/setup.c   **** 
 335:Src/setup.c   ****   sConfig.Channel = ADC_CHANNEL_11;  // pc1 left cur
 835              		.loc 1 335 0
 836 007e 0B27     		movs	r7, #11
 837 0080 0297     		str	r7, [sp, #8]
 336:Src/setup.c   ****   sConfig.Rank    = 3;
 838              		.loc 1 336 0
 839 0082 0323     		movs	r3, #3
 840 0084 0393     		str	r3, [sp, #12]
 337:Src/setup.c   ****   HAL_ADC_ConfigChannel(&hadc1, &sConfig);
 841              		.loc 1 337 0
 842 0086 02A9     		add	r1, sp, #8
 843 0088 2046     		mov	r0, r4
 844 008a FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 845              	.LVL65:
 338:Src/setup.c   **** 
 339:Src/setup.c   ****   sConfig.Channel = ADC_CHANNEL_12;  // pc2 vbat
 846              		.loc 1 339 0
 847 008e 0C23     		movs	r3, #12
 848 0090 0293     		str	r3, [sp, #8]
 340:Src/setup.c   ****   sConfig.Rank    = 4;
 849              		.loc 1 340 0
 850 0092 0423     		movs	r3, #4
 851 0094 0393     		str	r3, [sp, #12]
 341:Src/setup.c   ****   HAL_ADC_ConfigChannel(&hadc1, &sConfig);
 852              		.loc 1 341 0
 853 0096 02A9     		add	r1, sp, #8
 854 0098 2046     		mov	r0, r4
 855 009a FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 856              	.LVL66:
 342:Src/setup.c   **** 
 343:Src/setup.c   ****   //temperature requires at least 17.1uS sampling time
 344:Src/setup.c   ****   sConfig.SamplingTime = ADC_SAMPLETIME_239CYCLES_5;
 857              		.loc 1 344 0
 858 009e 0723     		movs	r3, #7
 859 00a0 0493     		str	r3, [sp, #16]
 345:Src/setup.c   **** 
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 22


 346:Src/setup.c   ****   sConfig.Channel = ADC_CHANNEL_TEMPSENSOR;  // internal temp
 860              		.loc 1 346 0
 861 00a2 1023     		movs	r3, #16
 862 00a4 0293     		str	r3, [sp, #8]
 347:Src/setup.c   ****   sConfig.Rank    = 5;
 863              		.loc 1 347 0
 864 00a6 CDF80C80 		str	r8, [sp, #12]
 348:Src/setup.c   ****   HAL_ADC_ConfigChannel(&hadc1, &sConfig);
 865              		.loc 1 348 0
 866 00aa 02A9     		add	r1, sp, #8
 867 00ac 2046     		mov	r0, r4
 868 00ae FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 869              	.LVL67:
 349:Src/setup.c   **** 
 350:Src/setup.c   ****   hadc1.Instance->CR2 |= ADC_CR2_DMA | ADC_CR2_TSVREFE;
 870              		.loc 1 350 0
 871 00b2 2268     		ldr	r2, [r4]
 872 00b4 9368     		ldr	r3, [r2, #8]
 873 00b6 43F40003 		orr	r3, r3, #8388608
 874 00ba 43F48073 		orr	r3, r3, #256
 875 00be 9360     		str	r3, [r2, #8]
 351:Src/setup.c   **** 
 352:Src/setup.c   ****   __HAL_ADC_ENABLE(&hadc1);
 876              		.loc 1 352 0
 877 00c0 9368     		ldr	r3, [r2, #8]
 878 00c2 43F00103 		orr	r3, r3, #1
 879 00c6 9360     		str	r3, [r2, #8]
 880              	.LBB8:
 353:Src/setup.c   **** 
 354:Src/setup.c   ****   __HAL_RCC_DMA1_CLK_ENABLE();
 881              		.loc 1 354 0
 882 00c8 7369     		ldr	r3, [r6, #20]
 883 00ca 43F00103 		orr	r3, r3, #1
 884 00ce 7361     		str	r3, [r6, #20]
 885 00d0 7369     		ldr	r3, [r6, #20]
 886 00d2 03F00103 		and	r3, r3, #1
 887 00d6 0193     		str	r3, [sp, #4]
 888 00d8 019B     		ldr	r3, [sp, #4]
 889              	.LBE8:
 355:Src/setup.c   **** 
 356:Src/setup.c   ****   DMA1_Channel1->CCR   = 0;
 890              		.loc 1 356 0
 891 00da 114B     		ldr	r3, .L13+16
 892 00dc 1D60     		str	r5, [r3]
 357:Src/setup.c   ****   DMA1_Channel1->CNDTR = 5;
 893              		.loc 1 357 0
 894 00de C3F80480 		str	r8, [r3, #4]
 358:Src/setup.c   ****   DMA1_Channel1->CPAR  = (uint32_t) & (ADC1->DR);
 895              		.loc 1 358 0
 896 00e2 104A     		ldr	r2, .L13+20
 897 00e4 9A60     		str	r2, [r3, #8]
 359:Src/setup.c   ****   DMA1_Channel1->CMAR  = (uint32_t)&adc_buffer;
 898              		.loc 1 359 0
 899 00e6 104A     		ldr	r2, .L13+24
 900 00e8 DA60     		str	r2, [r3, #12]
 360:Src/setup.c   ****   DMA1_Channel1->CCR   = DMA_CCR_MSIZE_1 | DMA_CCR_PSIZE_1 | DMA_CCR_MINC | DMA_CCR_CIRC | DMA_CCR_
 901              		.loc 1 360 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 23


 902 00ea 40F6A222 		movw	r2, #2722
 903 00ee 1A60     		str	r2, [r3]
 361:Src/setup.c   ****   DMA1_Channel1->CCR |= DMA_CCR_EN;
 904              		.loc 1 361 0
 905 00f0 1A68     		ldr	r2, [r3]
 906 00f2 42F00102 		orr	r2, r2, #1
 907 00f6 1A60     		str	r2, [r3]
 362:Src/setup.c   **** 
 363:Src/setup.c   ****   HAL_NVIC_SetPriority(DMA1_Channel1_IRQn, 0, 0);
 908              		.loc 1 363 0
 909 00f8 2A46     		mov	r2, r5
 910 00fa 2946     		mov	r1, r5
 911 00fc 3846     		mov	r0, r7
 912 00fe FFF7FEFF 		bl	HAL_NVIC_SetPriority
 913              	.LVL68:
 364:Src/setup.c   ****   HAL_NVIC_EnableIRQ(DMA1_Channel1_IRQn);
 914              		.loc 1 364 0
 915 0102 3846     		mov	r0, r7
 916 0104 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 917              	.LVL69:
 365:Src/setup.c   **** }
 918              		.loc 1 365 0
 919 0108 06B0     		add	sp, sp, #24
 920              	.LCFI9:
 921              		.cfi_def_cfa_offset 24
 922              		@ sp needed
 923 010a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 924              	.L14:
 925 010e 00BF     		.align	2
 926              	.L13:
 927 0110 00100240 		.word	1073876992
 928 0114 00000000 		.word	hadc1
 929 0118 00240140 		.word	1073816576
 930 011c 00000140 		.word	1073807360
 931 0120 08000240 		.word	1073872904
 932 0124 4C240140 		.word	1073816652
 933 0128 00000000 		.word	adc_buffer
 934              		.cfi_endproc
 935              	.LFE129:
 937              		.section	.text.MX_ADC2_Init,"ax",%progbits
 938              		.align	1
 939              		.global	MX_ADC2_Init
 940              		.syntax unified
 941              		.thumb
 942              		.thumb_func
 943              		.fpu fpv4-sp-d16
 945              	MX_ADC2_Init:
 946              	.LFB130:
 366:Src/setup.c   **** 
 367:Src/setup.c   **** /* ADC2 init function */
 368:Src/setup.c   **** void MX_ADC2_Init(void) {
 947              		.loc 1 368 0
 948              		.cfi_startproc
 949              		@ args = 0, pretend = 0, frame = 16
 950              		@ frame_needed = 0, uses_anonymous_args = 0
 951 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 952              	.LCFI10:
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 24


 953              		.cfi_def_cfa_offset 20
 954              		.cfi_offset 4, -20
 955              		.cfi_offset 5, -16
 956              		.cfi_offset 6, -12
 957              		.cfi_offset 7, -8
 958              		.cfi_offset 14, -4
 959 0002 85B0     		sub	sp, sp, #20
 960              	.LCFI11:
 961              		.cfi_def_cfa_offset 40
 962              	.LBB9:
 369:Src/setup.c   ****   ADC_ChannelConfTypeDef sConfig;
 370:Src/setup.c   **** 
 371:Src/setup.c   ****   __HAL_RCC_ADC2_CLK_ENABLE();
 963              		.loc 1 371 0
 964 0004 284B     		ldr	r3, .L17
 965 0006 9A69     		ldr	r2, [r3, #24]
 966 0008 42F48062 		orr	r2, r2, #1024
 967 000c 9A61     		str	r2, [r3, #24]
 968 000e 9B69     		ldr	r3, [r3, #24]
 969 0010 03F48063 		and	r3, r3, #1024
 970 0014 0093     		str	r3, [sp]
 971 0016 009B     		ldr	r3, [sp]
 972              	.LBE9:
 372:Src/setup.c   **** 
 373:Src/setup.c   ****   // HAL_ADC_DeInit(&hadc2);
 374:Src/setup.c   ****   // hadc2.Instance->CR2 = 0;
 375:Src/setup.c   ****   /**Common config
 376:Src/setup.c   ****     */
 377:Src/setup.c   ****   hadc2.Instance                   = ADC2;
 973              		.loc 1 377 0
 974 0018 244C     		ldr	r4, .L17+4
 975 001a 254B     		ldr	r3, .L17+8
 976 001c 2360     		str	r3, [r4]
 378:Src/setup.c   ****   hadc2.Init.ScanConvMode          = ADC_SCAN_ENABLE;
 977              		.loc 1 378 0
 978 001e 4FF48073 		mov	r3, #256
 979 0022 A360     		str	r3, [r4, #8]
 379:Src/setup.c   ****   hadc2.Init.ContinuousConvMode    = DISABLE;
 980              		.loc 1 379 0
 981 0024 0023     		movs	r3, #0
 982 0026 E360     		str	r3, [r4, #12]
 380:Src/setup.c   ****   hadc2.Init.DiscontinuousConvMode = DISABLE;
 983              		.loc 1 380 0
 984 0028 6361     		str	r3, [r4, #20]
 381:Src/setup.c   ****   hadc2.Init.ExternalTrigConv      = ADC_SOFTWARE_START;
 985              		.loc 1 381 0
 986 002a 4FF46022 		mov	r2, #917504
 987 002e E261     		str	r2, [r4, #28]
 382:Src/setup.c   ****   hadc2.Init.DataAlign             = ADC_DATAALIGN_RIGHT;
 988              		.loc 1 382 0
 989 0030 6360     		str	r3, [r4, #4]
 383:Src/setup.c   ****   hadc2.Init.NbrOfConversion       = 5;
 990              		.loc 1 383 0
 991 0032 0526     		movs	r6, #5
 992 0034 2661     		str	r6, [r4, #16]
 384:Src/setup.c   ****   HAL_ADC_Init(&hadc2);
 993              		.loc 1 384 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 25


 994 0036 2046     		mov	r0, r4
 995 0038 FFF7FEFF 		bl	HAL_ADC_Init
 996              	.LVL70:
 385:Src/setup.c   **** 
 386:Src/setup.c   ****   sConfig.SamplingTime = ADC_SAMPLETIME_7CYCLES_5;
 997              		.loc 1 386 0
 998 003c 0123     		movs	r3, #1
 999 003e 0393     		str	r3, [sp, #12]
 387:Src/setup.c   **** 
 388:Src/setup.c   ****   sConfig.Channel = ADC_CHANNEL_15;  // pc5 left c
 1000              		.loc 1 388 0
 1001 0040 0F22     		movs	r2, #15
 1002 0042 0192     		str	r2, [sp, #4]
 389:Src/setup.c   ****   sConfig.Rank    = 1;
 1003              		.loc 1 389 0
 1004 0044 0293     		str	r3, [sp, #8]
 390:Src/setup.c   ****   HAL_ADC_ConfigChannel(&hadc2, &sConfig);
 1005              		.loc 1 390 0
 1006 0046 01A9     		add	r1, sp, #4
 1007 0048 2046     		mov	r0, r4
 1008 004a FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1009              	.LVL71:
 391:Src/setup.c   **** 
 392:Src/setup.c   ****   sConfig.Channel = ADC_CHANNEL_13;  // pc3 right b
 1010              		.loc 1 392 0
 1011 004e 0D23     		movs	r3, #13
 1012 0050 0193     		str	r3, [sp, #4]
 393:Src/setup.c   ****   sConfig.Rank    = 2;
 1013              		.loc 1 393 0
 1014 0052 0225     		movs	r5, #2
 1015 0054 0295     		str	r5, [sp, #8]
 394:Src/setup.c   ****   HAL_ADC_ConfigChannel(&hadc2, &sConfig);
 1016              		.loc 1 394 0
 1017 0056 01A9     		add	r1, sp, #4
 1018 0058 2046     		mov	r0, r4
 1019 005a FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1020              	.LVL72:
 395:Src/setup.c   **** 
 396:Src/setup.c   ****   sConfig.SamplingTime = ADC_SAMPLETIME_13CYCLES_5;
 1021              		.loc 1 396 0
 1022 005e 0395     		str	r5, [sp, #12]
 397:Src/setup.c   **** 
 398:Src/setup.c   ****   sConfig.Channel = ADC_CHANNEL_10;  // pc0 right cur
 1023              		.loc 1 398 0
 1024 0060 0A23     		movs	r3, #10
 1025 0062 0193     		str	r3, [sp, #4]
 399:Src/setup.c   ****   sConfig.Rank    = 3;
 1026              		.loc 1 399 0
 1027 0064 0327     		movs	r7, #3
 1028 0066 0297     		str	r7, [sp, #8]
 400:Src/setup.c   ****   HAL_ADC_ConfigChannel(&hadc2, &sConfig);
 1029              		.loc 1 400 0
 1030 0068 01A9     		add	r1, sp, #4
 1031 006a 2046     		mov	r0, r4
 1032 006c FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1033              	.LVL73:
 401:Src/setup.c   **** 
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 26


 402:Src/setup.c   ****   sConfig.Channel = ADC_CHANNEL_2;  // pa2 uart-l-tx
 1034              		.loc 1 402 0
 1035 0070 0195     		str	r5, [sp, #4]
 403:Src/setup.c   ****   sConfig.Rank    = 4;
 1036              		.loc 1 403 0
 1037 0072 0423     		movs	r3, #4
 1038 0074 0293     		str	r3, [sp, #8]
 404:Src/setup.c   ****   HAL_ADC_ConfigChannel(&hadc2, &sConfig);
 1039              		.loc 1 404 0
 1040 0076 0DEB0301 		add	r1, sp, r3
 1041 007a 2046     		mov	r0, r4
 1042 007c FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1043              	.LVL74:
 405:Src/setup.c   **** 
 406:Src/setup.c   ****   sConfig.SamplingTime = ADC_SAMPLETIME_239CYCLES_5;
 1044              		.loc 1 406 0
 1045 0080 0723     		movs	r3, #7
 1046 0082 0393     		str	r3, [sp, #12]
 407:Src/setup.c   **** 
 408:Src/setup.c   ****   sConfig.Channel = ADC_CHANNEL_3;  // pa3 uart-l-rx
 1047              		.loc 1 408 0
 1048 0084 0197     		str	r7, [sp, #4]
 409:Src/setup.c   ****   sConfig.Rank    = 5;
 1049              		.loc 1 409 0
 1050 0086 0296     		str	r6, [sp, #8]
 410:Src/setup.c   ****   HAL_ADC_ConfigChannel(&hadc2, &sConfig);
 1051              		.loc 1 410 0
 1052 0088 01A9     		add	r1, sp, #4
 1053 008a 2046     		mov	r0, r4
 1054 008c FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1055              	.LVL75:
 411:Src/setup.c   **** 
 412:Src/setup.c   ****   hadc2.Instance->CR2 |= ADC_CR2_DMA;
 1056              		.loc 1 412 0
 1057 0090 2368     		ldr	r3, [r4]
 1058 0092 9A68     		ldr	r2, [r3, #8]
 1059 0094 42F48072 		orr	r2, r2, #256
 1060 0098 9A60     		str	r2, [r3, #8]
 413:Src/setup.c   ****   __HAL_ADC_ENABLE(&hadc2);
 1061              		.loc 1 413 0
 1062 009a 9A68     		ldr	r2, [r3, #8]
 1063 009c 42F00102 		orr	r2, r2, #1
 1064 00a0 9A60     		str	r2, [r3, #8]
 414:Src/setup.c   **** }
 1065              		.loc 1 414 0
 1066 00a2 05B0     		add	sp, sp, #20
 1067              	.LCFI12:
 1068              		.cfi_def_cfa_offset 20
 1069              		@ sp needed
 1070 00a4 F0BD     		pop	{r4, r5, r6, r7, pc}
 1071              	.L18:
 1072 00a6 00BF     		.align	2
 1073              	.L17:
 1074 00a8 00100240 		.word	1073876992
 1075 00ac 00000000 		.word	hadc2
 1076 00b0 00280140 		.word	1073817600
 1077              		.cfi_endproc
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 27


 1078              	.LFE130:
 1080              		.section	.text.UART_Debug_Init,"ax",%progbits
 1081              		.align	1
 1082              		.global	UART_Debug_Init
 1083              		.syntax unified
 1084              		.thumb
 1085              		.thumb_func
 1086              		.fpu fpv4-sp-d16
 1088              	UART_Debug_Init:
 1089              	.LFB131:
 415:Src/setup.c   **** 
 416:Src/setup.c   **** #ifdef DEBUG_SERIAL_USART3
 417:Src/setup.c   **** 
 418:Src/setup.c   **** void UART_Debug_Init() {
 1090              		.loc 1 418 0
 1091              		.cfi_startproc
 1092              		@ args = 0, pretend = 0, frame = 24
 1093              		@ frame_needed = 0, uses_anonymous_args = 0
 1094 0000 30B5     		push	{r4, r5, lr}
 1095              	.LCFI13:
 1096              		.cfi_def_cfa_offset 12
 1097              		.cfi_offset 4, -12
 1098              		.cfi_offset 5, -8
 1099              		.cfi_offset 14, -4
 1100 0002 87B0     		sub	sp, sp, #28
 1101              	.LCFI14:
 1102              		.cfi_def_cfa_offset 40
 1103              	.LBB10:
 419:Src/setup.c   ****   __HAL_RCC_USART3_CLK_ENABLE();
 1104              		.loc 1 419 0
 1105 0004 1F4B     		ldr	r3, .L21
 1106 0006 DA69     		ldr	r2, [r3, #28]
 1107 0008 42F48022 		orr	r2, r2, #262144
 1108 000c DA61     		str	r2, [r3, #28]
 1109 000e DA69     		ldr	r2, [r3, #28]
 1110 0010 02F48022 		and	r2, r2, #262144
 1111 0014 0092     		str	r2, [sp]
 1112 0016 009A     		ldr	r2, [sp]
 1113              	.LBE10:
 1114              	.LBB11:
 420:Src/setup.c   ****   __HAL_RCC_DMA1_CLK_ENABLE();
 1115              		.loc 1 420 0
 1116 0018 5A69     		ldr	r2, [r3, #20]
 1117 001a 42F00102 		orr	r2, r2, #1
 1118 001e 5A61     		str	r2, [r3, #20]
 1119 0020 5B69     		ldr	r3, [r3, #20]
 1120 0022 03F00103 		and	r3, r3, #1
 1121 0026 0193     		str	r3, [sp, #4]
 1122 0028 019B     		ldr	r3, [sp, #4]
 1123              	.LBE11:
 421:Src/setup.c   **** 
 422:Src/setup.c   ****   huart3.Instance          = USART3;
 1124              		.loc 1 422 0
 1125 002a 1748     		ldr	r0, .L21+4
 1126 002c 174D     		ldr	r5, .L21+8
 1127 002e 0560     		str	r5, [r0]
 423:Src/setup.c   ****   huart3.Init.BaudRate     = DEBUG_BAUD;
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 28


 1128              		.loc 1 423 0
 1129 0030 4FF4E133 		mov	r3, #115200
 1130 0034 4360     		str	r3, [r0, #4]
 424:Src/setup.c   ****   huart3.Init.WordLength   = UART_WORDLENGTH_8B;
 1131              		.loc 1 424 0
 1132 0036 0024     		movs	r4, #0
 1133 0038 8460     		str	r4, [r0, #8]
 425:Src/setup.c   ****   huart3.Init.StopBits     = UART_STOPBITS_1;
 1134              		.loc 1 425 0
 1135 003a C460     		str	r4, [r0, #12]
 426:Src/setup.c   ****   huart3.Init.Parity       = UART_PARITY_NONE;
 1136              		.loc 1 426 0
 1137 003c 0461     		str	r4, [r0, #16]
 427:Src/setup.c   ****   huart3.Init.Mode         = UART_MODE_TX;
 1138              		.loc 1 427 0
 1139 003e 0823     		movs	r3, #8
 1140 0040 4361     		str	r3, [r0, #20]
 428:Src/setup.c   ****   huart3.Init.HwFlowCtl    = UART_HWCONTROL_NONE;
 1141              		.loc 1 428 0
 1142 0042 8461     		str	r4, [r0, #24]
 429:Src/setup.c   ****   huart3.Init.OverSampling = UART_OVERSAMPLING_16;
 1143              		.loc 1 429 0
 1144 0044 C461     		str	r4, [r0, #28]
 430:Src/setup.c   ****   HAL_UART_Init(&huart3);
 1145              		.loc 1 430 0
 1146 0046 FFF7FEFF 		bl	HAL_UART_Init
 1147              	.LVL76:
 431:Src/setup.c   **** 
 432:Src/setup.c   ****   USART3->CR3 |= USART_CR3_DMAT;  // | USART_CR3_DMAR | USART_CR3_OVRDIS;
 1148              		.loc 1 432 0
 1149 004a 6B69     		ldr	r3, [r5, #20]
 1150 004c 43F08003 		orr	r3, r3, #128
 1151 0050 6B61     		str	r3, [r5, #20]
 433:Src/setup.c   **** 
 434:Src/setup.c   ****   GPIO_InitTypeDef GPIO_InitStruct;
 435:Src/setup.c   ****   GPIO_InitStruct.Pin   = GPIO_PIN_10;
 1152              		.loc 1 435 0
 1153 0052 4FF48063 		mov	r3, #1024
 1154 0056 0293     		str	r3, [sp, #8]
 436:Src/setup.c   ****   GPIO_InitStruct.Pull  = GPIO_PULLUP;
 1155              		.loc 1 436 0
 1156 0058 0123     		movs	r3, #1
 1157 005a 0493     		str	r3, [sp, #16]
 437:Src/setup.c   ****   GPIO_InitStruct.Mode  = GPIO_MODE_AF_PP;
 1158              		.loc 1 437 0
 1159 005c 0223     		movs	r3, #2
 1160 005e 0393     		str	r3, [sp, #12]
 438:Src/setup.c   ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 1161              		.loc 1 438 0
 1162 0060 0323     		movs	r3, #3
 1163 0062 0593     		str	r3, [sp, #20]
 439:Src/setup.c   ****   HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 1164              		.loc 1 439 0
 1165 0064 02A9     		add	r1, sp, #8
 1166 0066 0A48     		ldr	r0, .L21+12
 1167 0068 FFF7FEFF 		bl	HAL_GPIO_Init
 1168              	.LVL77:
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 29


 440:Src/setup.c   **** 
 441:Src/setup.c   ****   DMA1_Channel2->CCR   = 0;
 1169              		.loc 1 441 0
 1170 006c 094B     		ldr	r3, .L21+16
 1171 006e 1C60     		str	r4, [r3]
 442:Src/setup.c   ****   DMA1_Channel2->CPAR  = (uint32_t) & (USART3->DR);
 1172              		.loc 1 442 0
 1173 0070 094A     		ldr	r2, .L21+20
 1174 0072 9A60     		str	r2, [r3, #8]
 443:Src/setup.c   ****   DMA1_Channel2->CNDTR = 0;
 1175              		.loc 1 443 0
 1176 0074 5C60     		str	r4, [r3, #4]
 444:Src/setup.c   ****   DMA1_Channel2->CCR   = DMA_CCR_MINC | DMA_CCR_DIR;
 1177              		.loc 1 444 0
 1178 0076 9022     		movs	r2, #144
 1179 0078 1A60     		str	r2, [r3]
 445:Src/setup.c   ****   DMA1->IFCR           = DMA_IFCR_CTCIF2 | DMA_IFCR_CHTIF2 | DMA_IFCR_CGIF2;
 1180              		.loc 1 445 0
 1181 007a 1C3B     		subs	r3, r3, #28
 1182 007c 7022     		movs	r2, #112
 1183 007e 5A60     		str	r2, [r3, #4]
 446:Src/setup.c   **** }
 1184              		.loc 1 446 0
 1185 0080 07B0     		add	sp, sp, #28
 1186              	.LCFI15:
 1187              		.cfi_def_cfa_offset 12
 1188              		@ sp needed
 1189 0082 30BD     		pop	{r4, r5, pc}
 1190              	.L22:
 1191              		.align	2
 1192              	.L21:
 1193 0084 00100240 		.word	1073876992
 1194 0088 00000000 		.word	huart3
 1195 008c 00480040 		.word	1073760256
 1196 0090 000C0140 		.word	1073810432
 1197 0094 1C000240 		.word	1073872924
 1198 0098 04480040 		.word	1073760260
 1199              		.cfi_endproc
 1200              	.LFE131:
 1202              		.section	.text.__io_putchar,"ax",%progbits
 1203              		.align	1
 1204              		.global	__io_putchar
 1205              		.syntax unified
 1206              		.thumb
 1207              		.thumb_func
 1208              		.fpu fpv4-sp-d16
 1210              	__io_putchar:
 1211              	.LFB133:
 447:Src/setup.c   **** 
 448:Src/setup.c   **** #ifdef DEBUG_SERIAL_USART3_DMA
 449:Src/setup.c   **** 
 450:Src/setup.c   **** /* consoleLog uses DMA for heavy writes */
 451:Src/setup.c   **** void debugLog(char *message, int len)
 452:Src/setup.c   **** {
 453:Src/setup.c   ****   #define UART_DMA_CHANNEL DMA1_Channel2
 454:Src/setup.c   **** 
 455:Src/setup.c   ****     if(UART_DMA_CHANNEL->CNDTR == 0) {
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 30


 456:Src/setup.c   ****       UART_DMA_CHANNEL->CCR &= ~DMA_CCR_EN;
 457:Src/setup.c   ****       UART_DMA_CHANNEL->CNDTR = len;
 458:Src/setup.c   ****       UART_DMA_CHANNEL->CMAR  = (uint32_t)message;
 459:Src/setup.c   ****       UART_DMA_CHANNEL->CCR |= DMA_CCR_EN;
 460:Src/setup.c   ****     }
 461:Src/setup.c   **** }
 462:Src/setup.c   **** 
 463:Src/setup.c   **** #endif
 464:Src/setup.c   **** /*
 465:Src/setup.c   **** * Setting to redirect STDOUT to COM PORT
 466:Src/setup.c   **** */
 467:Src/setup.c   **** 
 468:Src/setup.c   **** #ifdef __GNUC__
 469:Src/setup.c   ****   /* With GCC/RAISONANCE, small printf (option LD Linker->Libraries->Small printf
 470:Src/setup.c   ****      set to 'Yes') calls __io_putchar() */
 471:Src/setup.c   ****   #define PUTCHAR_PROTOTYPE int __io_putchar(int ch)
 472:Src/setup.c   **** #else
 473:Src/setup.c   ****   #define PUTCHAR_PROTOTYPE int fputc(int ch, FILE *f)
 474:Src/setup.c   **** #endif /* __GNUC__ */
 475:Src/setup.c   **** 
 476:Src/setup.c   **** int _write(int file, char *data, int len)
 477:Src/setup.c   **** {
 478:Src/setup.c   ****   int bytes_written;
 479:Src/setup.c   ****   char ch;
 480:Src/setup.c   **** 
 481:Src/setup.c   ****   if ((file != 1) && (file != 2))
 482:Src/setup.c   ****   {
 483:Src/setup.c   ****     return -1;
 484:Src/setup.c   ****   }
 485:Src/setup.c   **** 
 486:Src/setup.c   ****   // if(len > 1) 
 487:Src/setup.c   ****   // {
 488:Src/setup.c   ****   //   debugLog(data, len);
 489:Src/setup.c   ****   // }
 490:Src/setup.c   ****   // else 
 491:Src/setup.c   ****   // {
 492:Src/setup.c   ****   //   __io_putchar(ch);
 493:Src/setup.c   ****   // }
 494:Src/setup.c   ****   for (bytes_written = 0; bytes_written < len; bytes_written++)
 495:Src/setup.c   ****   {
 496:Src/setup.c   ****     ch = *data;
 497:Src/setup.c   ****     data++;
 498:Src/setup.c   ****     __io_putchar(ch);
 499:Src/setup.c   ****   }
 500:Src/setup.c   **** 
 501:Src/setup.c   ****   return len;
 502:Src/setup.c   **** }
 503:Src/setup.c   **** 
 504:Src/setup.c   **** /**
 505:Src/setup.c   ****   * @brief  Retargets the C library printf function to the USART.
 506:Src/setup.c   ****   * @param  None
 507:Src/setup.c   ****   * @retval None
 508:Src/setup.c   ****   */
 509:Src/setup.c   **** PUTCHAR_PROTOTYPE
 510:Src/setup.c   **** {
 1212              		.loc 1 510 0
 1213              		.cfi_startproc
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 31


 1214              		@ args = 0, pretend = 0, frame = 8
 1215              		@ frame_needed = 0, uses_anonymous_args = 0
 1216              	.LVL78:
 1217 0000 00B5     		push	{lr}
 1218              	.LCFI16:
 1219              		.cfi_def_cfa_offset 4
 1220              		.cfi_offset 14, -4
 1221 0002 83B0     		sub	sp, sp, #12
 1222              	.LCFI17:
 1223              		.cfi_def_cfa_offset 16
 1224 0004 02A9     		add	r1, sp, #8
 1225 0006 41F8040D 		str	r0, [r1, #-4]!
 511:Src/setup.c   ****   HAL_UART_Transmit(&huart3, (uint8_t *) &ch, 1, 10);
 1226              		.loc 1 511 0
 1227 000a 0A23     		movs	r3, #10
 1228 000c 0122     		movs	r2, #1
 1229 000e 0348     		ldr	r0, .L25
 1230              	.LVL79:
 1231 0010 FFF7FEFF 		bl	HAL_UART_Transmit
 1232              	.LVL80:
 512:Src/setup.c   **** 	return ch;
 513:Src/setup.c   **** }
 1233              		.loc 1 513 0
 1234 0014 0198     		ldr	r0, [sp, #4]
 1235 0016 03B0     		add	sp, sp, #12
 1236              	.LCFI18:
 1237              		.cfi_def_cfa_offset 4
 1238              		@ sp needed
 1239 0018 5DF804FB 		ldr	pc, [sp], #4
 1240              	.L26:
 1241              		.align	2
 1242              	.L25:
 1243 001c 00000000 		.word	huart3
 1244              		.cfi_endproc
 1245              	.LFE133:
 1247              		.section	.text._write,"ax",%progbits
 1248              		.align	1
 1249              		.global	_write
 1250              		.syntax unified
 1251              		.thumb
 1252              		.thumb_func
 1253              		.fpu fpv4-sp-d16
 1255              	_write:
 1256              	.LFB132:
 477:Src/setup.c   ****   int bytes_written;
 1257              		.loc 1 477 0
 1258              		.cfi_startproc
 1259              		@ args = 0, pretend = 0, frame = 0
 1260              		@ frame_needed = 0, uses_anonymous_args = 0
 1261              	.LVL81:
 1262 0000 70B5     		push	{r4, r5, r6, lr}
 1263              	.LCFI19:
 1264              		.cfi_def_cfa_offset 16
 1265              		.cfi_offset 4, -16
 1266              		.cfi_offset 5, -12
 1267              		.cfi_offset 6, -8
 1268              		.cfi_offset 14, -4
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 32


 481:Src/setup.c   ****   {
 1269              		.loc 1 481 0
 1270 0002 0138     		subs	r0, r0, #1
 1271              	.LVL82:
 1272 0004 0128     		cmp	r0, #1
 1273 0006 0CD8     		bhi	.L31
 1274 0008 0D46     		mov	r5, r1
 1275 000a 1646     		mov	r6, r2
 494:Src/setup.c   ****   {
 1276              		.loc 1 494 0
 1277 000c 0024     		movs	r4, #0
 1278 000e 04E0     		b	.L29
 1279              	.LVL83:
 1280              	.L30:
 1281              	.LBB12:
 498:Src/setup.c   ****   }
 1282              		.loc 1 498 0 discriminator 3
 1283 0010 15F8010B 		ldrb	r0, [r5], #1	@ zero_extendqisi2
 1284              	.LVL84:
 1285 0014 FFF7FEFF 		bl	__io_putchar
 1286              	.LVL85:
 1287              	.LBE12:
 494:Src/setup.c   ****   {
 1288              		.loc 1 494 0 discriminator 3
 1289 0018 0134     		adds	r4, r4, #1
 1290              	.LVL86:
 1291              	.L29:
 494:Src/setup.c   ****   {
 1292              		.loc 1 494 0 is_stmt 0 discriminator 1
 1293 001a B442     		cmp	r4, r6
 1294 001c F8DB     		blt	.L30
 1295              	.LVL87:
 1296              	.L28:
 502:Src/setup.c   **** 
 1297              		.loc 1 502 0 is_stmt 1
 1298 001e 3046     		mov	r0, r6
 1299 0020 70BD     		pop	{r4, r5, r6, pc}
 1300              	.LVL88:
 1301              	.L31:
 483:Src/setup.c   ****   }
 1302              		.loc 1 483 0
 1303 0022 4FF0FF36 		mov	r6, #-1
 1304 0026 FAE7     		b	.L28
 1305              		.cfi_endproc
 1306              	.LFE132:
 1308              		.section	.text.UART_Control_Init,"ax",%progbits
 1309              		.align	1
 1310              		.global	UART_Control_Init
 1311              		.syntax unified
 1312              		.thumb
 1313              		.thumb_func
 1314              		.fpu fpv4-sp-d16
 1316              	UART_Control_Init:
 1317              	.LFB134:
 514:Src/setup.c   **** 
 515:Src/setup.c   **** #endif //END of DEBUG_SERIAL_USART3
 516:Src/setup.c   **** 
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 33


 517:Src/setup.c   **** #ifdef CONTROL_SERIAL_USART2
 518:Src/setup.c   **** 
 519:Src/setup.c   **** void UART_Control_Init() {
 1318              		.loc 1 519 0
 1319              		.cfi_startproc
 1320              		@ args = 0, pretend = 0, frame = 32
 1321              		@ frame_needed = 0, uses_anonymous_args = 0
 1322 0000 30B5     		push	{r4, r5, lr}
 1323              	.LCFI20:
 1324              		.cfi_def_cfa_offset 12
 1325              		.cfi_offset 4, -12
 1326              		.cfi_offset 5, -8
 1327              		.cfi_offset 14, -4
 1328 0002 89B0     		sub	sp, sp, #36
 1329              	.LCFI21:
 1330              		.cfi_def_cfa_offset 48
 1331              	.LBB13:
 520:Src/setup.c   ****   GPIO_InitTypeDef GPIO_InitStruct;
 521:Src/setup.c   ****   __HAL_RCC_USART2_CLK_ENABLE();
 1332              		.loc 1 521 0
 1333 0004 254C     		ldr	r4, .L35
 1334 0006 E369     		ldr	r3, [r4, #28]
 1335 0008 43F40033 		orr	r3, r3, #131072
 1336 000c E361     		str	r3, [r4, #28]
 1337 000e E369     		ldr	r3, [r4, #28]
 1338 0010 03F40033 		and	r3, r3, #131072
 1339 0014 0193     		str	r3, [sp, #4]
 1340 0016 019B     		ldr	r3, [sp, #4]
 1341              	.LBE13:
 522:Src/setup.c   ****   // /* DMA1_Channel6_IRQn interrupt configuration */
 523:Src/setup.c   ****   // HAL_NVIC_SetPriority(DMA1_Channel6_IRQn, 5, 6);
 524:Src/setup.c   ****   // HAL_NVIC_EnableIRQ(DMA1_Channel6_IRQn);
 525:Src/setup.c   ****   // /* DMA1_Channel7_IRQn interrupt configuration */
 526:Src/setup.c   ****   // HAL_NVIC_SetPriority(DMA1_Channel7_IRQn, 5, 7);
 527:Src/setup.c   ****   // HAL_NVIC_EnableIRQ(DMA1_Channel7_IRQn);
 528:Src/setup.c   **** 
 529:Src/setup.c   ****   huart2.Instance = USART2;
 1342              		.loc 1 529 0
 1343 0018 2148     		ldr	r0, .L35+4
 1344 001a 224B     		ldr	r3, .L35+8
 1345 001c 0360     		str	r3, [r0]
 530:Src/setup.c   ****   huart2.Init.BaudRate = CONTROL_BAUD;
 1346              		.loc 1 530 0
 1347 001e 4FF4E133 		mov	r3, #115200
 1348 0022 4360     		str	r3, [r0, #4]
 531:Src/setup.c   ****   huart2.Init.WordLength = UART_WORDLENGTH_8B;
 1349              		.loc 1 531 0
 1350 0024 0025     		movs	r5, #0
 1351 0026 8560     		str	r5, [r0, #8]
 532:Src/setup.c   ****   huart2.Init.StopBits = UART_STOPBITS_1;
 1352              		.loc 1 532 0
 1353 0028 C560     		str	r5, [r0, #12]
 533:Src/setup.c   ****   huart2.Init.Parity = UART_PARITY_NONE;
 1354              		.loc 1 533 0
 1355 002a 0561     		str	r5, [r0, #16]
 534:Src/setup.c   ****   huart2.Init.Mode = UART_MODE_TX_RX;
 1356              		.loc 1 534 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 34


 1357 002c 0C23     		movs	r3, #12
 1358 002e 4361     		str	r3, [r0, #20]
 535:Src/setup.c   ****   huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 1359              		.loc 1 535 0
 1360 0030 8561     		str	r5, [r0, #24]
 536:Src/setup.c   ****   huart2.Init.OverSampling = UART_OVERSAMPLING_16; 
 1361              		.loc 1 536 0
 1362 0032 C561     		str	r5, [r0, #28]
 537:Src/setup.c   ****   HAL_UART_Init(&huart2);
 1363              		.loc 1 537 0
 1364 0034 FFF7FEFF 		bl	HAL_UART_Init
 1365              	.LVL89:
 1366              	.LBB14:
 538:Src/setup.c   **** 
 539:Src/setup.c   **** 
 540:Src/setup.c   ****   // __HAL_RCC_DMA1_CLK_ENABLE();
 541:Src/setup.c   ****   /* USER CODE BEGIN USART2_MspInit 0 */
 542:Src/setup.c   ****    __HAL_RCC_GPIOA_CLK_ENABLE();
 1367              		.loc 1 542 0
 1368 0038 A369     		ldr	r3, [r4, #24]
 1369 003a 43F00403 		orr	r3, r3, #4
 1370 003e A361     		str	r3, [r4, #24]
 1371 0040 A369     		ldr	r3, [r4, #24]
 1372 0042 03F00403 		and	r3, r3, #4
 1373 0046 0293     		str	r3, [sp, #8]
 1374 0048 029B     		ldr	r3, [sp, #8]
 1375              	.LBE14:
 1376              	.LBB15:
 543:Src/setup.c   ****   /* USER CODE END USART2_MspInit 0 */
 544:Src/setup.c   ****    /* Peripheral clock enable */
 545:Src/setup.c   ****    __HAL_RCC_USART2_CLK_ENABLE(); // Why again?
 1377              		.loc 1 545 0
 1378 004a E369     		ldr	r3, [r4, #28]
 1379 004c 43F40033 		orr	r3, r3, #131072
 1380 0050 E361     		str	r3, [r4, #28]
 1381 0052 E369     		ldr	r3, [r4, #28]
 1382 0054 03F40033 		and	r3, r3, #131072
 1383 0058 0393     		str	r3, [sp, #12]
 1384 005a 039B     		ldr	r3, [sp, #12]
 1385              	.LBE15:
 546:Src/setup.c   **** 
 547:Src/setup.c   ****   GPIO_InitStruct.Pull = GPIO_PULLUP; //GPIO_NOPULL;
 1386              		.loc 1 547 0
 1387 005c 0123     		movs	r3, #1
 1388 005e 0693     		str	r3, [sp, #24]
 548:Src/setup.c   ****   GPIO_InitStruct.Pin = GPIO_PIN_2;
 1389              		.loc 1 548 0
 1390 0060 0423     		movs	r3, #4
 1391 0062 0493     		str	r3, [sp, #16]
 549:Src/setup.c   ****   GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 1392              		.loc 1 549 0
 1393 0064 0223     		movs	r3, #2
 1394 0066 0593     		str	r3, [sp, #20]
 550:Src/setup.c   ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 1395              		.loc 1 550 0
 1396 0068 0323     		movs	r3, #3
 1397 006a 0793     		str	r3, [sp, #28]
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 35


 551:Src/setup.c   ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 1398              		.loc 1 551 0
 1399 006c A4F58434 		sub	r4, r4, #67584
 1400 0070 04A9     		add	r1, sp, #16
 1401 0072 2046     		mov	r0, r4
 1402 0074 FFF7FEFF 		bl	HAL_GPIO_Init
 1403              	.LVL90:
 552:Src/setup.c   **** 
 553:Src/setup.c   ****   GPIO_InitStruct.Pin = GPIO_PIN_3;
 1404              		.loc 1 553 0
 1405 0078 0823     		movs	r3, #8
 1406 007a 0493     		str	r3, [sp, #16]
 554:Src/setup.c   ****   GPIO_InitStruct.Mode = GPIO_MODE_INPUT; //GPIO_MODE_AF_PP;
 1407              		.loc 1 554 0
 1408 007c 0595     		str	r5, [sp, #20]
 555:Src/setup.c   ****   // GPIO_InitStruct.Pull = GPIO_NOPULL;
 556:Src/setup.c   ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 1409              		.loc 1 556 0
 1410 007e 04A9     		add	r1, sp, #16
 1411 0080 2046     		mov	r0, r4
 1412 0082 FFF7FEFF 		bl	HAL_GPIO_Init
 1413              	.LVL91:
 557:Src/setup.c   **** 
 558:Src/setup.c   ****   /* Peripheral DMA init*/
 559:Src/setup.c   **** 
 560:Src/setup.c   ****   // hdma_usart2_rx.Instance = DMA1_Channel6;
 561:Src/setup.c   ****   // hdma_usart2_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 562:Src/setup.c   ****   // hdma_usart2_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 563:Src/setup.c   ****   // hdma_usart2_rx.Init.MemInc = DMA_MINC_ENABLE;
 564:Src/setup.c   ****   // hdma_usart2_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 565:Src/setup.c   ****   // hdma_usart2_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 566:Src/setup.c   ****   // hdma_usart2_rx.Init.Mode = DMA_CIRCULAR; //DMA_NORMAL;
 567:Src/setup.c   ****   // hdma_usart2_rx.Init.Priority = DMA_PRIORITY_LOW;
 568:Src/setup.c   ****   // HAL_DMA_Init(&hdma_usart2_rx);
 569:Src/setup.c   **** 
 570:Src/setup.c   ****   // __HAL_LINKDMA(&huart2,hdmarx,hdma_usart2_rx);
 571:Src/setup.c   **** 
 572:Src/setup.c   ****   // hdma_usart2_tx.Instance = DMA1_Channel7;
 573:Src/setup.c   ****   // hdma_usart2_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 574:Src/setup.c   ****   // hdma_usart2_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 575:Src/setup.c   ****   // hdma_usart2_tx.Init.MemInc = DMA_MINC_ENABLE;
 576:Src/setup.c   ****   // hdma_usart2_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 577:Src/setup.c   ****   // hdma_usart2_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 578:Src/setup.c   ****   // hdma_usart2_tx.Init.Mode = DMA_NORMAL;
 579:Src/setup.c   ****   // hdma_usart2_tx.Init.Priority = DMA_PRIORITY_LOW;
 580:Src/setup.c   ****   // HAL_DMA_Init(&hdma_usart2_tx);
 581:Src/setup.c   ****   // __HAL_LINKDMA(&huart2,hdmatx,hdma_usart2_tx);
 582:Src/setup.c   **** 
 583:Src/setup.c   ****   HAL_NVIC_SetPriority(USART2_IRQn, 0, 0);                                        
 1414              		.loc 1 583 0
 1415 0086 2A46     		mov	r2, r5
 1416 0088 2946     		mov	r1, r5
 1417 008a 2620     		movs	r0, #38
 1418 008c FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1419              	.LVL92:
 584:Src/setup.c   ****   HAL_NVIC_EnableIRQ(USART2_IRQn); //Necessary for DMA
 1420              		.loc 1 584 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 36


 1421 0090 2620     		movs	r0, #38
 1422 0092 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1423              	.LVL93:
 585:Src/setup.c   **** }
 1424              		.loc 1 585 0
 1425 0096 09B0     		add	sp, sp, #36
 1426              	.LCFI22:
 1427              		.cfi_def_cfa_offset 12
 1428              		@ sp needed
 1429 0098 30BD     		pop	{r4, r5, pc}
 1430              	.L36:
 1431 009a 00BF     		.align	2
 1432              	.L35:
 1433 009c 00100240 		.word	1073876992
 1434 00a0 00000000 		.word	huart2
 1435 00a4 00440040 		.word	1073759232
 1436              		.cfi_endproc
 1437              	.LFE134:
 1439              		.section	.text.USART2_IRQHandler,"ax",%progbits
 1440              		.align	1
 1441              		.global	USART2_IRQHandler
 1442              		.syntax unified
 1443              		.thumb
 1444              		.thumb_func
 1445              		.fpu fpv4-sp-d16
 1447              	USART2_IRQHandler:
 1448              	.LFB135:
 586:Src/setup.c   **** 
 587:Src/setup.c   **** void USART2_IRQHandler(void)
 588:Src/setup.c   **** {
 1449              		.loc 1 588 0
 1450              		.cfi_startproc
 1451              		@ args = 0, pretend = 0, frame = 0
 1452              		@ frame_needed = 0, uses_anonymous_args = 0
 1453 0000 08B5     		push	{r3, lr}
 1454              	.LCFI23:
 1455              		.cfi_def_cfa_offset 8
 1456              		.cfi_offset 3, -8
 1457              		.cfi_offset 14, -4
 589:Src/setup.c   ****   HAL_UART_IRQHandler(&huart2);
 1458              		.loc 1 589 0
 1459 0002 0248     		ldr	r0, .L39
 1460 0004 FFF7FEFF 		bl	HAL_UART_IRQHandler
 1461              	.LVL94:
 590:Src/setup.c   **** }
 1462              		.loc 1 590 0
 1463 0008 08BD     		pop	{r3, pc}
 1464              	.L40:
 1465 000a 00BF     		.align	2
 1466              	.L39:
 1467 000c 00000000 		.word	huart2
 1468              		.cfi_endproc
 1469              	.LFE135:
 1471              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 1472              		.align	1
 1473              		.global	HAL_UART_RxCpltCallback
 1474              		.syntax unified
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 37


 1475              		.thumb
 1476              		.thumb_func
 1477              		.fpu fpv4-sp-d16
 1479              	HAL_UART_RxCpltCallback:
 1480              	.LFB136:
 591:Src/setup.c   **** 
 592:Src/setup.c   **** 
 593:Src/setup.c   **** uint8_t g_RxBuf[RX_BUF_SIZE];		/* receive buffer */
 594:Src/setup.c   **** uint8_t byte;
 595:Src/setup.c   **** uint8_t g_RxRead = 0;
 596:Src/setup.c   **** uint8_t g_RxWritten = 0;
 597:Src/setup.c   **** 
 598:Src/setup.c   **** /*
 599:Src/setup.c   **** * In callback move the byte read to RxBuffer.
 600:Src/setup.c   **** * If there is no space in buffer disable interrupt.
 601:Src/setup.c   **** * Interrupt is enabled back after buffer is read and clear.
 602:Src/setup.c   **** */
 603:Src/setup.c   **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart)
 604:Src/setup.c   **** {
 1481              		.loc 1 604 0
 1482              		.cfi_startproc
 1483              		@ args = 0, pretend = 0, frame = 0
 1484              		@ frame_needed = 0, uses_anonymous_args = 0
 1485              	.LVL95:
 1486 0000 08B5     		push	{r3, lr}
 1487              	.LCFI24:
 1488              		.cfi_def_cfa_offset 8
 1489              		.cfi_offset 3, -8
 1490              		.cfi_offset 14, -4
 605:Src/setup.c   ****   if(huart->Instance == huart2.Instance)
 1491              		.loc 1 605 0
 1492 0002 0268     		ldr	r2, [r0]
 1493 0004 084B     		ldr	r3, .L45
 1494 0006 1B68     		ldr	r3, [r3]
 1495 0008 9A42     		cmp	r2, r3
 1496 000a 00D0     		beq	.L44
 1497              	.LVL96:
 1498              	.L41:
 606:Src/setup.c   ****   {
 607:Src/setup.c   ****     g_RxBuf[g_RxWritten++] = byte;
 608:Src/setup.c   ****     if(g_RxWritten == RX_BUF_SIZE)
 609:Src/setup.c   ****     {
 610:Src/setup.c   ****       __HAL_UART_DISABLE_IT(&huart2, UART_IT_TC);
 611:Src/setup.c   ****     } 
 612:Src/setup.c   ****     else
 613:Src/setup.c   ****     {
 614:Src/setup.c   ****       HAL_UART_Receive_IT(&huart2, &byte, 1);
 615:Src/setup.c   ****     }
 616:Src/setup.c   ****     
 617:Src/setup.c   ****   }
 618:Src/setup.c   **** }
 1499              		.loc 1 618 0
 1500 000c 08BD     		pop	{r3, pc}
 1501              	.LVL97:
 1502              	.L44:
 607:Src/setup.c   ****     if(g_RxWritten == RX_BUF_SIZE)
 1503              		.loc 1 607 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 38


 1504 000e 074A     		ldr	r2, .L45+4
 1505 0010 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1506 0012 591C     		adds	r1, r3, #1
 1507 0014 1170     		strb	r1, [r2]
 1508 0016 0649     		ldr	r1, .L45+8
 1509 0018 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 1510              	.LVL98:
 1511 001a 064A     		ldr	r2, .L45+12
 1512 001c D054     		strb	r0, [r2, r3]
 614:Src/setup.c   ****     }
 1513              		.loc 1 614 0
 1514 001e 0122     		movs	r2, #1
 1515 0020 0148     		ldr	r0, .L45
 1516 0022 FFF7FEFF 		bl	HAL_UART_Receive_IT
 1517              	.LVL99:
 1518              		.loc 1 618 0
 1519 0026 F1E7     		b	.L41
 1520              	.L46:
 1521              		.align	2
 1522              	.L45:
 1523 0028 00000000 		.word	huart2
 1524 002c 00000000 		.word	.LANCHOR0
 1525 0030 00000000 		.word	byte
 1526 0034 00000000 		.word	g_RxBuf
 1527              		.cfi_endproc
 1528              	.LFE136:
 1530              		.section	.text.readUSART2,"ax",%progbits
 1531              		.align	1
 1532              		.global	readUSART2
 1533              		.syntax unified
 1534              		.thumb
 1535              		.thumb_func
 1536              		.fpu fpv4-sp-d16
 1538              	readUSART2:
 1539              	.LFB137:
 619:Src/setup.c   **** 
 620:Src/setup.c   **** int readUSART2(void)
 621:Src/setup.c   **** {
 1540              		.loc 1 621 0
 1541              		.cfi_startproc
 1542              		@ args = 0, pretend = 0, frame = 0
 1543              		@ frame_needed = 0, uses_anonymous_args = 0
 1544              		@ link register save eliminated.
 1545              	.LVL100:
 622:Src/setup.c   ****   int ucData = -1;
 623:Src/setup.c   ****   
 624:Src/setup.c   ****   if(g_RxRead < g_RxWritten)
 1546              		.loc 1 624 0
 1547 0000 074B     		ldr	r3, .L50
 1548 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1549 0004 074A     		ldr	r2, .L50+4
 1550 0006 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1551 0008 9342     		cmp	r3, r2
 1552 000a 05D2     		bcs	.L49
 625:Src/setup.c   ****   {
 626:Src/setup.c   ****     ucData = g_RxBuf[g_RxRead++];
 1553              		.loc 1 626 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 39


 1554 000c 591C     		adds	r1, r3, #1
 1555 000e 044A     		ldr	r2, .L50
 1556 0010 1170     		strb	r1, [r2]
 1557 0012 054A     		ldr	r2, .L50+8
 1558 0014 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 1559              	.LVL101:
 1560 0016 7047     		bx	lr
 1561              	.LVL102:
 1562              	.L49:
 622:Src/setup.c   ****   int ucData = -1;
 1563              		.loc 1 622 0
 1564 0018 4FF0FF30 		mov	r0, #-1
 627:Src/setup.c   ****   }
 628:Src/setup.c   ****   if(g_RxRead == RX_BUF_SIZE )
 629:Src/setup.c   ****   {
 630:Src/setup.c   ****     g_RxRead = 0;
 631:Src/setup.c   ****     g_RxWritten = 0;
 632:Src/setup.c   ****     //Enable the interrupt so we can read again.
 633:Src/setup.c   ****     __HAL_UART_ENABLE_IT(&huart2, UART_IT_TC);
 634:Src/setup.c   ****     HAL_UART_Receive_IT(&huart2, &byte, 1);
 635:Src/setup.c   ****   }
 636:Src/setup.c   ****   return ucData;
 637:Src/setup.c   **** }
 1565              		.loc 1 637 0
 1566 001c 7047     		bx	lr
 1567              	.L51:
 1568 001e 00BF     		.align	2
 1569              	.L50:
 1570 0020 00000000 		.word	.LANCHOR1
 1571 0024 00000000 		.word	.LANCHOR0
 1572 0028 00000000 		.word	g_RxBuf
 1573              		.cfi_endproc
 1574              	.LFE137:
 1576              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 1577              		.align	1
 1578              		.global	HAL_UART_TxCpltCallback
 1579              		.syntax unified
 1580              		.thumb
 1581              		.thumb_func
 1582              		.fpu fpv4-sp-d16
 1584              	HAL_UART_TxCpltCallback:
 1585              	.LFB138:
 638:Src/setup.c   **** 
 639:Src/setup.c   **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *UartHandle)
 640:Src/setup.c   **** {
 1586              		.loc 1 640 0
 1587              		.cfi_startproc
 1588              		@ args = 0, pretend = 0, frame = 0
 1589              		@ frame_needed = 0, uses_anonymous_args = 0
 1590              		@ link register save eliminated.
 1591              	.LVL103:
 641:Src/setup.c   ****   //__NOP;
 642:Src/setup.c   **** }
 1592              		.loc 1 642 0
 1593 0000 7047     		bx	lr
 1594              		.cfi_endproc
 1595              	.LFE138:
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 40


 1597              		.section	.text.init_PID_control,"ax",%progbits
 1598              		.align	1
 1599              		.global	init_PID_control
 1600              		.syntax unified
 1601              		.thumb
 1602              		.thumb_func
 1603              		.fpu fpv4-sp-d16
 1605              	init_PID_control:
 1606              	.LFB139:
 643:Src/setup.c   **** #endif //CONTOL_SERIAL_USART2
 644:Src/setup.c   **** 
 645:Src/setup.c   **** // setup pid control for left and right speed.
 646:Src/setup.c   **** pid_controller  PositionPid[2];
 647:Src/setup.c   **** // temp floats
 648:Src/setup.c   **** PID_FLOATS PositionPidFloats[2] = {
 649:Src/setup.c   ****   { 0, 0, 0,   0 },
 650:Src/setup.c   ****   { 0, 0, 0,   0 }
 651:Src/setup.c   **** };
 652:Src/setup.c   **** pid_controller  SpeedPid[2];
 653:Src/setup.c   **** // temp floats
 654:Src/setup.c   **** PID_FLOATS SpeedPidFloats[2] = {
 655:Src/setup.c   ****   { 0, 0, 0,   0 },
 656:Src/setup.c   ****   { 0, 0, 0,   0 }
 657:Src/setup.c   **** };
 658:Src/setup.c   **** 
 659:Src/setup.c   **** FLASH_CONTENT FlashContent;
 660:Src/setup.c   **** const FLASH_CONTENT FlashDefaults = FLASH_DEFAULTS;
 661:Src/setup.c   **** 
 662:Src/setup.c   **** void init_PID_control(){
 1607              		.loc 1 662 0
 1608              		.cfi_startproc
 1609              		@ args = 0, pretend = 0, frame = 0
 1610              		@ frame_needed = 0, uses_anonymous_args = 0
 1611 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1612              	.LCFI25:
 1613              		.cfi_def_cfa_offset 20
 1614              		.cfi_offset 4, -20
 1615              		.cfi_offset 5, -16
 1616              		.cfi_offset 6, -12
 1617              		.cfi_offset 7, -8
 1618              		.cfi_offset 14, -4
 1619 0002 85B0     		sub	sp, sp, #20
 1620              	.LCFI26:
 1621              		.cfi_def_cfa_offset 40
 663:Src/setup.c   ****   memcpy(&FlashContent, &FlashDefaults, sizeof(FlashContent));
 1622              		.loc 1 663 0
 1623 0004 6C4D     		ldr	r5, .L61
 1624 0006 6D4C     		ldr	r4, .L61+4
 1625 0008 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 1626 000a 2860     		str	r0, [r5]	@ unaligned
 1627 000c 6960     		str	r1, [r5, #4]	@ unaligned
 1628 000e AA60     		str	r2, [r5, #8]	@ unaligned
 1629 0010 EB60     		str	r3, [r5, #12]	@ unaligned
 1630 0012 07CC     		ldmia	r4!, {r0, r1, r2}
 1631 0014 2861     		str	r0, [r5, #16]	@ unaligned
 1632 0016 6961     		str	r1, [r5, #20]	@ unaligned
 1633 0018 AA61     		str	r2, [r5, #24]	@ unaligned
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 41


 1634 001a 2388     		ldrh	r3, [r4]	@ unaligned
 1635 001c AB83     		strh	r3, [r5, #28]	@ unaligned
 664:Src/setup.c   ****   memset(&PositionPid, 0, sizeof(PositionPid));
 1636              		.loc 1 664 0
 1637 001e 6824     		movs	r4, #104
 1638 0020 2246     		mov	r2, r4
 1639 0022 0021     		movs	r1, #0
 1640 0024 6648     		ldr	r0, .L61+8
 1641 0026 FFF7FEFF 		bl	memset
 1642              	.LVL104:
 665:Src/setup.c   ****   memset(&SpeedPid, 0, sizeof(SpeedPid));
 1643              		.loc 1 665 0
 1644 002a 2246     		mov	r2, r4
 1645 002c 0021     		movs	r1, #0
 1646 002e 6548     		ldr	r0, .L61+12
 1647 0030 FFF7FEFF 		bl	memset
 1648              	.LVL105:
 1649              	.LBB16:
 666:Src/setup.c   **** 
 667:Src/setup.c   ****   for (int i = 0; i < 2; i++){
 1650              		.loc 1 667 0
 1651 0034 0024     		movs	r4, #0
 1652 0036 85E0     		b	.L54
 1653              	.LVL106:
 1654              	.L60:
 668:Src/setup.c   ****     PositionPidFloats[i].in = 0;
 669:Src/setup.c   ****     PositionPidFloats[i].set = 0; 
 670:Src/setup.c   ****     if(i==0)
 671:Src/setup.c   ****     {
 672:Src/setup.c   ****       pid_create(&PositionPid[i], &PositionPidFloats[i].in, &PositionPidFloats[i].out, &PositionPid
 673:Src/setup.c   ****             (float)FlashContent.LeftPositionKpx100/100.0,
 1655              		.loc 1 673 0
 1656 0038 5F4B     		ldr	r3, .L61
 1657 003a 5A88     		ldrh	r2, [r3, #2]
 1658 003c 07EE102A 		vmov	s14, r2	@ int
 1659 0040 B8EE477A 		vcvt.f32.u32	s14, s14
 674:Src/setup.c   ****             (float)FlashContent.PositionKix100/100.0,
 1660              		.loc 1 674 0
 1661 0044 DA88     		ldrh	r2, [r3, #6]
 1662 0046 06EE902A 		vmov	s13, r2	@ int
 1663 004a F8EE666A 		vcvt.f32.u32	s13, s13
 675:Src/setup.c   ****             (float)FlashContent.PositionKdx100/100.0);
 1664              		.loc 1 675 0
 1665 004e 1B89     		ldrh	r3, [r3, #8]
 1666 0050 06EE103A 		vmov	s12, r3	@ int
 1667 0054 B8EE466A 		vcvt.f32.u32	s12, s12
 672:Src/setup.c   ****             (float)FlashContent.LeftPositionKpx100/100.0,
 1668              		.loc 1 672 0
 1669 0058 5B48     		ldr	r0, .L61+16
 1670 005a 2301     		lsls	r3, r4, #4
 1671 005c C118     		adds	r1, r0, r3
 1672 005e 03F10802 		add	r2, r3, #8
 1673 0062 DFED5A7A 		vldr.32	s15, .L61+20
 1674 0066 C6EE275A 		vdiv.f32	s11, s12, s15
 1675 006a CDED025A 		vstr.32	s11, [sp, #8]
 1676 006e 86EEA76A 		vdiv.f32	s12, s13, s15
 1677 0072 8DED016A 		vstr.32	s12, [sp, #4]
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 42


 1678 0076 C7EE276A 		vdiv.f32	s13, s14, s15
 1679 007a CDED006A 		vstr.32	s13, [sp]
 1680 007e 0B1D     		adds	r3, r1, #4
 1681 0080 0244     		add	r2, r2, r0
 1682 0082 3425     		movs	r5, #52
 1683 0084 4E48     		ldr	r0, .L61+8
 1684 0086 05FB0400 		mla	r0, r5, r4, r0
 1685 008a FFF7FEFF 		bl	pid_create
 1686              	.LVL107:
 1687              	.L56:
 676:Src/setup.c   ****     }
 677:Src/setup.c   ****     else
 678:Src/setup.c   ****     {
 679:Src/setup.c   ****       pid_create(&PositionPid[i], &PositionPidFloats[i].in, &PositionPidFloats[i].out, &PositionPid
 680:Src/setup.c   ****           (float)FlashContent.RightPositionKpx100/100.0,
 681:Src/setup.c   ****           (float)FlashContent.PositionKix100/100.0,
 682:Src/setup.c   ****           (float)FlashContent.PositionKdx100/100.0);    
 683:Src/setup.c   ****     }
 684:Src/setup.c   **** 
 685:Src/setup.c   ****     // maximum pwm outputs for positional control; limits speed
 686:Src/setup.c   ****   	pid_limits(&PositionPid[i], -FlashContent.PositionPWMLimit, FlashContent.PositionPWMLimit);
 1688              		.loc 1 686 0 discriminator 2
 1689 008e 3425     		movs	r5, #52
 1690 0090 05FB04F5 		mul	r5, r5, r4
 1691 0094 4A4F     		ldr	r7, .L61+8
 1692 0096 2F44     		add	r7, r7, r5
 1693 0098 474E     		ldr	r6, .L61
 1694 009a 7289     		ldrh	r2, [r6, #10]
 1695 009c 5142     		negs	r1, r2
 1696 009e 07EE902A 		vmov	s15, r2	@ int
 1697 00a2 F8EE677A 		vcvt.f32.u32	s15, s15
 1698 00a6 17EE902A 		vmov	r2, s15
 1699 00aa 07EE901A 		vmov	s15, r1	@ int
 1700 00ae F8EEE77A 		vcvt.f32.s32	s15, s15
 1701 00b2 17EE901A 		vmov	r1, s15
 1702 00b6 3846     		mov	r0, r7
 1703 00b8 FFF7FEFF 		bl	pid_limits
 1704              	.LVL108:
 687:Src/setup.c   ****   	pid_auto(&PositionPid[i]);
 1705              		.loc 1 687 0 discriminator 2
 1706 00bc 3846     		mov	r0, r7
 1707 00be FFF7FEFF 		bl	pid_auto
 1708              	.LVL109:
 688:Src/setup.c   ****     SpeedPidFloats[i].in = 0;
 1709              		.loc 1 688 0 discriminator 2
 1710 00c2 434A     		ldr	r2, .L61+24
 1711 00c4 2001     		lsls	r0, r4, #4
 1712 00c6 1118     		adds	r1, r2, r0
 1713 00c8 0027     		movs	r7, #0
 1714 00ca 0B46     		mov	r3, r1
 1715 00cc 43F8047B 		str	r7, [r3], #4	@ float
 689:Src/setup.c   ****     SpeedPidFloats[i].set = 0;
 1716              		.loc 1 689 0 discriminator 2
 1717 00d0 4F60     		str	r7, [r1, #4]	@ float
 690:Src/setup.c   ****     pid_create(&SpeedPid[i], &SpeedPidFloats[i].in, &SpeedPidFloats[i].out, &SpeedPidFloats[i].set,
 1718              		.loc 1 690 0 discriminator 2
 1719 00d2 3C4F     		ldr	r7, .L61+12
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 43


 1720 00d4 3D44     		add	r5, r5, r7
 691:Src/setup.c   ****       (float)FlashContent.SpeedKpx100/100.0,
 1721              		.loc 1 691 0 discriminator 2
 1722 00d6 B789     		ldrh	r7, [r6, #12]
 1723 00d8 07EE107A 		vmov	s14, r7	@ int
 1724 00dc B8EE477A 		vcvt.f32.u32	s14, s14
 692:Src/setup.c   ****       (float)FlashContent.SpeedKix100/100.0,
 1725              		.loc 1 692 0 discriminator 2
 1726 00e0 F789     		ldrh	r7, [r6, #14]
 1727 00e2 06EE907A 		vmov	s13, r7	@ int
 1728 00e6 F8EE666A 		vcvt.f32.u32	s13, s13
 693:Src/setup.c   ****       (float)FlashContent.SpeedKdx100/100.0);
 1729              		.loc 1 693 0 discriminator 2
 1730 00ea 378A     		ldrh	r7, [r6, #16]
 1731 00ec 06EE107A 		vmov	s12, r7	@ int
 1732 00f0 B8EE466A 		vcvt.f32.u32	s12, s12
 690:Src/setup.c   ****       (float)FlashContent.SpeedKpx100/100.0,
 1733              		.loc 1 690 0 discriminator 2
 1734 00f4 0830     		adds	r0, r0, #8
 1735 00f6 DFED357A 		vldr.32	s15, .L61+20
 1736 00fa C6EE275A 		vdiv.f32	s11, s12, s15
 1737 00fe CDED025A 		vstr.32	s11, [sp, #8]
 1738 0102 86EEA76A 		vdiv.f32	s12, s13, s15
 1739 0106 8DED016A 		vstr.32	s12, [sp, #4]
 1740 010a C7EE276A 		vdiv.f32	s13, s14, s15
 1741 010e CDED006A 		vstr.32	s13, [sp]
 1742 0112 0244     		add	r2, r2, r0
 1743 0114 2846     		mov	r0, r5
 1744 0116 FFF7FEFF 		bl	pid_create
 1745              	.LVL110:
 694:Src/setup.c   **** 
 695:Src/setup.c   ****     // maximum increment to pwm outputs for speed control; limits changes in speed (accelleration)
 696:Src/setup.c   ****   	pid_limits(&SpeedPid[i], -FlashContent.SpeedPWMIncrementLimit, FlashContent.SpeedPWMIncrementLim
 1746              		.loc 1 696 0 discriminator 2
 1747 011a 728A     		ldrh	r2, [r6, #18]
 1748 011c 5142     		negs	r1, r2
 1749 011e 07EE902A 		vmov	s15, r2	@ int
 1750 0122 F8EE677A 		vcvt.f32.u32	s15, s15
 1751 0126 17EE902A 		vmov	r2, s15
 1752 012a 07EE901A 		vmov	s15, r1	@ int
 1753 012e F8EEE77A 		vcvt.f32.s32	s15, s15
 1754 0132 17EE901A 		vmov	r1, s15
 1755 0136 2846     		mov	r0, r5
 1756 0138 FFF7FEFF 		bl	pid_limits
 1757              	.LVL111:
 697:Src/setup.c   ****   	pid_auto(&SpeedPid[i]);
 1758              		.loc 1 697 0 discriminator 2
 1759 013c 2846     		mov	r0, r5
 1760 013e FFF7FEFF 		bl	pid_auto
 1761              	.LVL112:
 667:Src/setup.c   ****     PositionPidFloats[i].in = 0;
 1762              		.loc 1 667 0 discriminator 2
 1763 0142 0134     		adds	r4, r4, #1
 1764              	.LVL113:
 1765              	.L54:
 667:Src/setup.c   ****     PositionPidFloats[i].in = 0;
 1766              		.loc 1 667 0 is_stmt 0 discriminator 1
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 44


 1767 0144 012C     		cmp	r4, #1
 1768 0146 34DC     		bgt	.L59
 668:Src/setup.c   ****     PositionPidFloats[i].set = 0; 
 1769              		.loc 1 668 0 is_stmt 1
 1770 0148 1F4B     		ldr	r3, .L61+16
 1771 014a 03EB0413 		add	r3, r3, r4, lsl #4
 1772 014e 0022     		movs	r2, #0
 1773 0150 1A60     		str	r2, [r3]	@ float
 669:Src/setup.c   ****     if(i==0)
 1774              		.loc 1 669 0
 1775 0152 5A60     		str	r2, [r3, #4]	@ float
 670:Src/setup.c   ****     {
 1776              		.loc 1 670 0
 1777 0154 002C     		cmp	r4, #0
 1778 0156 3FF46FAF 		beq	.L60
 680:Src/setup.c   ****           (float)FlashContent.PositionKix100/100.0,
 1779              		.loc 1 680 0
 1780 015a 174B     		ldr	r3, .L61
 1781 015c 9A88     		ldrh	r2, [r3, #4]
 1782 015e 07EE102A 		vmov	s14, r2	@ int
 1783 0162 B8EE477A 		vcvt.f32.u32	s14, s14
 681:Src/setup.c   ****           (float)FlashContent.PositionKdx100/100.0);    
 1784              		.loc 1 681 0
 1785 0166 DA88     		ldrh	r2, [r3, #6]
 1786 0168 06EE902A 		vmov	s13, r2	@ int
 1787 016c F8EE666A 		vcvt.f32.u32	s13, s13
 682:Src/setup.c   ****     }
 1788              		.loc 1 682 0
 1789 0170 1B89     		ldrh	r3, [r3, #8]
 1790 0172 06EE103A 		vmov	s12, r3	@ int
 1791 0176 B8EE466A 		vcvt.f32.u32	s12, s12
 679:Src/setup.c   ****           (float)FlashContent.RightPositionKpx100/100.0,
 1792              		.loc 1 679 0
 1793 017a 1348     		ldr	r0, .L61+16
 1794 017c 2301     		lsls	r3, r4, #4
 1795 017e C118     		adds	r1, r0, r3
 1796 0180 03F10802 		add	r2, r3, #8
 1797 0184 DFED117A 		vldr.32	s15, .L61+20
 1798 0188 C6EE275A 		vdiv.f32	s11, s12, s15
 1799 018c CDED025A 		vstr.32	s11, [sp, #8]
 1800 0190 86EEA76A 		vdiv.f32	s12, s13, s15
 1801 0194 8DED016A 		vstr.32	s12, [sp, #4]
 1802 0198 C7EE276A 		vdiv.f32	s13, s14, s15
 1803 019c CDED006A 		vstr.32	s13, [sp]
 1804 01a0 0B1D     		adds	r3, r1, #4
 1805 01a2 0244     		add	r2, r2, r0
 1806 01a4 3425     		movs	r5, #52
 1807 01a6 0648     		ldr	r0, .L61+8
 1808 01a8 05FB0400 		mla	r0, r5, r4, r0
 1809 01ac FFF7FEFF 		bl	pid_create
 1810              	.LVL114:
 1811 01b0 6DE7     		b	.L56
 1812              	.L59:
 1813              	.LBE16:
 698:Src/setup.c   ****   }
 699:Src/setup.c   **** }
 1814              		.loc 1 699 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 45


 1815 01b2 05B0     		add	sp, sp, #20
 1816              	.LCFI27:
 1817              		.cfi_def_cfa_offset 20
 1818              		@ sp needed
 1819 01b4 F0BD     		pop	{r4, r5, r6, r7, pc}
 1820              	.LVL115:
 1821              	.L62:
 1822 01b6 00BF     		.align	2
 1823              	.L61:
 1824 01b8 00000000 		.word	FlashContent
 1825 01bc 00000000 		.word	.LANCHOR2
 1826 01c0 00000000 		.word	PositionPid
 1827 01c4 00000000 		.word	SpeedPid
 1828 01c8 00000000 		.word	.LANCHOR3
 1829 01cc 0000C842 		.word	1120403456
 1830 01d0 00000000 		.word	.LANCHOR4
 1831              		.cfi_endproc
 1832              	.LFE139:
 1834              		.section	.text.change_PID_constants,"ax",%progbits
 1835              		.align	1
 1836              		.global	change_PID_constants
 1837              		.syntax unified
 1838              		.thumb
 1839              		.thumb_func
 1840              		.fpu fpv4-sp-d16
 1842              	change_PID_constants:
 1843              	.LFB140:
 700:Src/setup.c   **** 
 701:Src/setup.c   **** void change_PID_constants(){
 1844              		.loc 1 701 0
 1845              		.cfi_startproc
 1846              		@ args = 0, pretend = 0, frame = 0
 1847              		@ frame_needed = 0, uses_anonymous_args = 0
 1848 0000 70B5     		push	{r4, r5, r6, lr}
 1849              	.LCFI28:
 1850              		.cfi_def_cfa_offset 16
 1851              		.cfi_offset 4, -16
 1852              		.cfi_offset 5, -12
 1853              		.cfi_offset 6, -8
 1854              		.cfi_offset 14, -4
 1855 0002 84B0     		sub	sp, sp, #16
 1856              	.LCFI29:
 1857              		.cfi_def_cfa_offset 32
 1858              	.LVL116:
 1859              	.LBB17:
 702:Src/setup.c   ****   for (int i = 0; i < 2; i++){
 1860              		.loc 1 702 0
 1861 0004 0024     		movs	r4, #0
 1862 0006 74E0     		b	.L64
 1863              	.LVL117:
 1864              	.L70:
 703:Src/setup.c   ****     if(i==0)
 704:Src/setup.c   ****     {
 705:Src/setup.c   ****       pid_create(&PositionPid[i], &PositionPidFloats[i].in, &PositionPidFloats[i].out, &PositionPid
 706:Src/setup.c   ****             (float)FlashContent.LeftPositionKpx100/100.0,
 1865              		.loc 1 706 0
 1866 0008 534B     		ldr	r3, .L71
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 46


 1867 000a 5A88     		ldrh	r2, [r3, #2]
 1868 000c 07EE102A 		vmov	s14, r2	@ int
 1869 0010 B8EE477A 		vcvt.f32.u32	s14, s14
 707:Src/setup.c   ****             (float)FlashContent.PositionKix100/100.0,
 1870              		.loc 1 707 0
 1871 0014 DA88     		ldrh	r2, [r3, #6]
 1872 0016 06EE902A 		vmov	s13, r2	@ int
 1873 001a F8EE666A 		vcvt.f32.u32	s13, s13
 708:Src/setup.c   ****             (float)FlashContent.PositionKdx100/100.0);
 1874              		.loc 1 708 0
 1875 001e 1B89     		ldrh	r3, [r3, #8]
 1876 0020 06EE103A 		vmov	s12, r3	@ int
 1877 0024 B8EE466A 		vcvt.f32.u32	s12, s12
 705:Src/setup.c   ****             (float)FlashContent.LeftPositionKpx100/100.0,
 1878              		.loc 1 705 0
 1879 0028 4C48     		ldr	r0, .L71+4
 1880 002a 2301     		lsls	r3, r4, #4
 1881 002c C118     		adds	r1, r0, r3
 1882 002e 03F10802 		add	r2, r3, #8
 1883 0032 DFED4B7A 		vldr.32	s15, .L71+8
 1884 0036 C6EE275A 		vdiv.f32	s11, s12, s15
 1885 003a CDED025A 		vstr.32	s11, [sp, #8]
 1886 003e 86EEA76A 		vdiv.f32	s12, s13, s15
 1887 0042 8DED016A 		vstr.32	s12, [sp, #4]
 1888 0046 C7EE276A 		vdiv.f32	s13, s14, s15
 1889 004a CDED006A 		vstr.32	s13, [sp]
 1890 004e 0B1D     		adds	r3, r1, #4
 1891 0050 0244     		add	r2, r2, r0
 1892 0052 3425     		movs	r5, #52
 1893 0054 4348     		ldr	r0, .L71+12
 1894 0056 05FB0400 		mla	r0, r5, r4, r0
 1895 005a FFF7FEFF 		bl	pid_create
 1896              	.LVL118:
 1897              	.L66:
 709:Src/setup.c   ****     }
 710:Src/setup.c   ****     else
 711:Src/setup.c   ****     {
 712:Src/setup.c   ****       pid_create(&PositionPid[i], &PositionPidFloats[i].in, &PositionPidFloats[i].out, &PositionPid
 713:Src/setup.c   ****           (float)FlashContent.RightPositionKpx100/100.0,
 714:Src/setup.c   ****           (float)FlashContent.PositionKix100/100.0,
 715:Src/setup.c   ****           (float)FlashContent.PositionKdx100/100.0);    
 716:Src/setup.c   ****     }
 717:Src/setup.c   ****   	pid_limits(&PositionPid[i], -FlashContent.PositionPWMLimit, FlashContent.PositionPWMLimit);
 1898              		.loc 1 717 0 discriminator 2
 1899 005e 3E4E     		ldr	r6, .L71
 1900 0060 7289     		ldrh	r2, [r6, #10]
 1901 0062 5142     		negs	r1, r2
 1902 0064 3425     		movs	r5, #52
 1903 0066 05FB04F5 		mul	r5, r5, r4
 1904 006a 07EE902A 		vmov	s15, r2	@ int
 1905 006e F8EE677A 		vcvt.f32.u32	s15, s15
 1906 0072 17EE902A 		vmov	r2, s15
 1907 0076 07EE901A 		vmov	s15, r1	@ int
 1908 007a F8EEE77A 		vcvt.f32.s32	s15, s15
 1909 007e 17EE901A 		vmov	r1, s15
 1910 0082 3848     		ldr	r0, .L71+12
 1911 0084 2844     		add	r0, r0, r5
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 47


 1912 0086 FFF7FEFF 		bl	pid_limits
 1913              	.LVL119:
 718:Src/setup.c   **** 
 719:Src/setup.c   ****     pid_tune(&SpeedPid[i],
 1914              		.loc 1 719 0 discriminator 2
 1915 008a 374B     		ldr	r3, .L71+16
 1916 008c 1D44     		add	r5, r5, r3
 720:Src/setup.c   ****       (float)FlashContent.SpeedKpx100/100.0,
 1917              		.loc 1 720 0 discriminator 2
 1918 008e B389     		ldrh	r3, [r6, #12]
 1919 0090 07EE103A 		vmov	s14, r3	@ int
 1920 0094 B8EE477A 		vcvt.f32.u32	s14, s14
 721:Src/setup.c   ****       (float)FlashContent.SpeedKix100/100.0,
 1921              		.loc 1 721 0 discriminator 2
 1922 0098 F389     		ldrh	r3, [r6, #14]
 1923 009a 06EE903A 		vmov	s13, r3	@ int
 1924 009e F8EE666A 		vcvt.f32.u32	s13, s13
 722:Src/setup.c   ****       (float)FlashContent.SpeedKdx100/100.0);
 1925              		.loc 1 722 0 discriminator 2
 1926 00a2 338A     		ldrh	r3, [r6, #16]
 1927 00a4 06EE103A 		vmov	s12, r3	@ int
 1928 00a8 B8EE466A 		vcvt.f32.u32	s12, s12
 719:Src/setup.c   ****       (float)FlashContent.SpeedKpx100/100.0,
 1929              		.loc 1 719 0 discriminator 2
 1930 00ac DFED2C7A 		vldr.32	s15, .L71+8
 1931 00b0 86EE276A 		vdiv.f32	s12, s12, s15
 1932 00b4 16EE103A 		vmov	r3, s12
 1933 00b8 C6EEA76A 		vdiv.f32	s13, s13, s15
 1934 00bc 16EE902A 		vmov	r2, s13
 1935 00c0 C7EE277A 		vdiv.f32	s15, s14, s15
 1936 00c4 17EE901A 		vmov	r1, s15
 1937 00c8 2846     		mov	r0, r5
 1938 00ca FFF7FEFF 		bl	pid_tune
 1939              	.LVL120:
 723:Src/setup.c   ****   	pid_limits(&SpeedPid[i], -FlashContent.SpeedPWMIncrementLimit, FlashContent.SpeedPWMIncrementLim
 1940              		.loc 1 723 0 discriminator 2
 1941 00ce 728A     		ldrh	r2, [r6, #18]
 1942 00d0 5142     		negs	r1, r2
 1943 00d2 07EE902A 		vmov	s15, r2	@ int
 1944 00d6 F8EE677A 		vcvt.f32.u32	s15, s15
 1945 00da 17EE902A 		vmov	r2, s15
 1946 00de 07EE901A 		vmov	s15, r1	@ int
 1947 00e2 F8EEE77A 		vcvt.f32.s32	s15, s15
 1948 00e6 17EE901A 		vmov	r1, s15
 1949 00ea 2846     		mov	r0, r5
 1950 00ec FFF7FEFF 		bl	pid_limits
 1951              	.LVL121:
 702:Src/setup.c   ****     if(i==0)
 1952              		.loc 1 702 0 discriminator 2
 1953 00f0 0134     		adds	r4, r4, #1
 1954              	.LVL122:
 1955              	.L64:
 702:Src/setup.c   ****     if(i==0)
 1956              		.loc 1 702 0 is_stmt 0 discriminator 1
 1957 00f2 012C     		cmp	r4, #1
 1958 00f4 2DDC     		bgt	.L69
 703:Src/setup.c   ****     {
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 48


 1959              		.loc 1 703 0 is_stmt 1
 1960 00f6 002C     		cmp	r4, #0
 1961 00f8 86D0     		beq	.L70
 713:Src/setup.c   ****           (float)FlashContent.PositionKix100/100.0,
 1962              		.loc 1 713 0
 1963 00fa 174B     		ldr	r3, .L71
 1964 00fc 9A88     		ldrh	r2, [r3, #4]
 1965 00fe 07EE102A 		vmov	s14, r2	@ int
 1966 0102 B8EE477A 		vcvt.f32.u32	s14, s14
 714:Src/setup.c   ****           (float)FlashContent.PositionKdx100/100.0);    
 1967              		.loc 1 714 0
 1968 0106 DA88     		ldrh	r2, [r3, #6]
 1969 0108 06EE902A 		vmov	s13, r2	@ int
 1970 010c F8EE666A 		vcvt.f32.u32	s13, s13
 715:Src/setup.c   ****     }
 1971              		.loc 1 715 0
 1972 0110 1B89     		ldrh	r3, [r3, #8]
 1973 0112 06EE103A 		vmov	s12, r3	@ int
 1974 0116 B8EE466A 		vcvt.f32.u32	s12, s12
 712:Src/setup.c   ****           (float)FlashContent.RightPositionKpx100/100.0,
 1975              		.loc 1 712 0
 1976 011a 1048     		ldr	r0, .L71+4
 1977 011c 2301     		lsls	r3, r4, #4
 1978 011e C118     		adds	r1, r0, r3
 1979 0120 03F10802 		add	r2, r3, #8
 1980 0124 DFED0E7A 		vldr.32	s15, .L71+8
 1981 0128 C6EE275A 		vdiv.f32	s11, s12, s15
 1982 012c CDED025A 		vstr.32	s11, [sp, #8]
 1983 0130 86EEA76A 		vdiv.f32	s12, s13, s15
 1984 0134 8DED016A 		vstr.32	s12, [sp, #4]
 1985 0138 C7EE276A 		vdiv.f32	s13, s14, s15
 1986 013c CDED006A 		vstr.32	s13, [sp]
 1987 0140 0B1D     		adds	r3, r1, #4
 1988 0142 0244     		add	r2, r2, r0
 1989 0144 3425     		movs	r5, #52
 1990 0146 0748     		ldr	r0, .L71+12
 1991 0148 05FB0400 		mla	r0, r5, r4, r0
 1992 014c FFF7FEFF 		bl	pid_create
 1993              	.LVL123:
 1994 0150 85E7     		b	.L66
 1995              	.L69:
 1996              	.LBE17:
 724:Src/setup.c   ****   }
 725:Src/setup.c   **** }...
 1997              		.loc 1 725 0
 1998 0152 04B0     		add	sp, sp, #16
 1999              	.LCFI30:
 2000              		.cfi_def_cfa_offset 16
 2001              		@ sp needed
 2002 0154 70BD     		pop	{r4, r5, r6, pc}
 2003              	.LVL124:
 2004              	.L72:
 2005 0156 00BF     		.align	2
 2006              	.L71:
 2007 0158 00000000 		.word	FlashContent
 2008 015c 00000000 		.word	.LANCHOR3
 2009 0160 0000C842 		.word	1120403456
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 49


 2010 0164 00000000 		.word	PositionPid
 2011 0168 00000000 		.word	SpeedPid
 2012              		.cfi_endproc
 2013              	.LFE140:
 2015              		.global	FlashDefaults
 2016              		.comm	FlashContent,30,4
 2017              		.global	SpeedPidFloats
 2018              		.comm	SpeedPid,104,4
 2019              		.global	PositionPidFloats
 2020              		.comm	PositionPid,104,4
 2021              		.global	g_RxWritten
 2022              		.global	g_RxRead
 2023              		.comm	byte,1,1
 2024              		.comm	g_RxBuf,512,4
 2025              		.comm	hdma_i2c2_tx,68,4
 2026              		.comm	hdma_i2c2_rx,68,4
 2027              		.comm	adc_buffer,20,4
 2028              		.comm	hdma_usart2_tx,68,4
 2029              		.comm	hdma_usart2_rx,68,4
 2030              		.comm	huart3,64,4
 2031              		.comm	huart2,64,4
 2032              		.comm	hi2c2,84,4
 2033              		.comm	hadc2,48,4
 2034              		.comm	hadc1,48,4
 2035              		.comm	htim_left,64,4
 2036              		.comm	htim_right,64,4
 2037              		.section	.bss.PositionPidFloats,"aw",%nobits
 2038              		.align	2
 2039              		.set	.LANCHOR3,. + 0
 2042              	PositionPidFloats:
 2043 0000 00000000 		.space	32
 2043      00000000 
 2043      00000000 
 2043      00000000 
 2043      00000000 
 2044              		.section	.bss.SpeedPidFloats,"aw",%nobits
 2045              		.align	2
 2046              		.set	.LANCHOR4,. + 0
 2049              	SpeedPidFloats:
 2050 0000 00000000 		.space	32
 2050      00000000 
 2050      00000000 
 2050      00000000 
 2050      00000000 
 2051              		.section	.bss.g_RxRead,"aw",%nobits
 2052              		.set	.LANCHOR1,. + 0
 2055              	g_RxRead:
 2056 0000 00       		.space	1
 2057              		.section	.bss.g_RxWritten,"aw",%nobits
 2058              		.set	.LANCHOR0,. + 0
 2061              	g_RxWritten:
 2062 0000 00       		.space	1
 2063              		.section	.rodata.FlashDefaults,"a",%progbits
 2064              		.align	2
 2065              		.set	.LANCHOR2,. + 0
 2068              	FlashDefaults:
 2069 0000 D204     		.short	1234
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 50


 2070 0002 3C00     		.short	60
 2071 0004 4700     		.short	71
 2072 0006 C800     		.short	200
 2073 0008 0100     		.short	1
 2074 000a 6400     		.short	100
 2075 000c 6400     		.short	100
 2076 000e 2C01     		.short	300
 2077 0010 0000     		.short	0
 2078 0012 6400     		.short	100
 2079 0014 6400     		.short	100
 2080 0016 0100     		.short	1
 2081 0018 0000     		.short	0
 2082 001a 0000     		.short	0
 2083 001c 6400     		.short	100
 2084              		.text
 2085              	.Letext0:
 2086              		.file 2 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/machine/_default_types
 2087              		.file 3 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/_stdint.h"
 2088              		.file 4 "Drivers/CMSIS/CM4/CoreSupport/core_cm4.h"
 2089              		.file 5 "Inc/system_at32f4xx.h"
 2090              		.file 6 "Drivers/CMSIS/CM4/DeviceSupport/at32f4xx.h"
 2091              		.file 7 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/lock.h"
 2092              		.file 8 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/_types.h"
 2093              		.file 9 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h
 2094              		.file 10 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/reent.h"
 2095              		.file 11 "Drivers/Modified_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 2096              		.file 12 "Drivers/Modified_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 2097              		.file 13 "Drivers/Modified_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 2098              		.file 14 "Drivers/Modified_HAL_Driver/Inc/stm32f1xx_hal_adc.h"
 2099              		.file 15 "Drivers/Modified_HAL_Driver/Inc/stm32f1xx_hal_adc_ex.h"
 2100              		.file 16 "Drivers/Modified_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 2101              		.file 17 "Drivers/Modified_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 2102              		.file 18 "Drivers/Modified_HAL_Driver/Inc/stm32f1xx_hal_tim_ex.h"
 2103              		.file 19 "Drivers/Modified_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 2104              		.file 20 "Inc/defines.h"
 2105              		.file 21 "Inc/flashcontent.h"
 2106              		.file 22 "Inc/pid.h"
 2107              		.file 23 "Drivers/Modified_HAL_Driver/Inc/stm32f1xx_hal_cortex.h"
 2108              		.file 24 "<built-in>"
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 51


DEFINED SYMBOLS
                            *ABS*:0000000000000000 setup.c
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:17     .text.MX_GPIO_Init:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:24     .text.MX_GPIO_Init:0000000000000000 MX_GPIO_Init
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:346    .text.MX_GPIO_Init:00000000000001fc $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:355    .text.Hall_Sensor_Init:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:362    .text.Hall_Sensor_Init:0000000000000000 Hall_Sensor_Init
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:399    .text.MX_TIM_Init:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:406    .text.MX_TIM_Init:0000000000000000 MX_TIM_Init
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:726    .text.MX_TIM_Init:00000000000001ec $d
                            *COM*:0000000000000040 htim_right
                            *COM*:0000000000000040 htim_left
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:737    .text.MX_ADC1_Init:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:744    .text.MX_ADC1_Init:0000000000000000 MX_ADC1_Init
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:927    .text.MX_ADC1_Init:0000000000000110 $d
                            *COM*:0000000000000030 hadc1
                            *COM*:0000000000000014 adc_buffer
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:938    .text.MX_ADC2_Init:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:945    .text.MX_ADC2_Init:0000000000000000 MX_ADC2_Init
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1074   .text.MX_ADC2_Init:00000000000000a8 $d
                            *COM*:0000000000000030 hadc2
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1081   .text.UART_Debug_Init:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1088   .text.UART_Debug_Init:0000000000000000 UART_Debug_Init
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1193   .text.UART_Debug_Init:0000000000000084 $d
                            *COM*:0000000000000040 huart3
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1203   .text.__io_putchar:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1210   .text.__io_putchar:0000000000000000 __io_putchar
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1243   .text.__io_putchar:000000000000001c $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1248   .text._write:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1255   .text._write:0000000000000000 _write
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1309   .text.UART_Control_Init:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1316   .text.UART_Control_Init:0000000000000000 UART_Control_Init
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1433   .text.UART_Control_Init:000000000000009c $d
                            *COM*:0000000000000040 huart2
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1440   .text.USART2_IRQHandler:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1447   .text.USART2_IRQHandler:0000000000000000 USART2_IRQHandler
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1467   .text.USART2_IRQHandler:000000000000000c $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1472   .text.HAL_UART_RxCpltCallback:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1479   .text.HAL_UART_RxCpltCallback:0000000000000000 HAL_UART_RxCpltCallback
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1523   .text.HAL_UART_RxCpltCallback:0000000000000028 $d
                            *COM*:0000000000000001 byte
                            *COM*:0000000000000200 g_RxBuf
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1531   .text.readUSART2:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1538   .text.readUSART2:0000000000000000 readUSART2
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1570   .text.readUSART2:0000000000000020 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1577   .text.HAL_UART_TxCpltCallback:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1584   .text.HAL_UART_TxCpltCallback:0000000000000000 HAL_UART_TxCpltCallback
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1598   .text.init_PID_control:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1605   .text.init_PID_control:0000000000000000 init_PID_control
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1824   .text.init_PID_control:00000000000001b8 $d
                            *COM*:000000000000001e FlashContent
                            *COM*:0000000000000068 PositionPid
                            *COM*:0000000000000068 SpeedPid
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1835   .text.change_PID_constants:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:1842   .text.change_PID_constants:0000000000000000 change_PID_constants
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2007   .text.change_PID_constants:0000000000000158 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2068   .rodata.FlashDefaults:0000000000000000 FlashDefaults
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s 			page 52


/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2049   .bss.SpeedPidFloats:0000000000000000 SpeedPidFloats
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2042   .bss.PositionPidFloats:0000000000000000 PositionPidFloats
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2061   .bss.g_RxWritten:0000000000000000 g_RxWritten
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2055   .bss.g_RxRead:0000000000000000 g_RxRead
                            *COM*:0000000000000044 hdma_i2c2_tx
                            *COM*:0000000000000044 hdma_i2c2_rx
                            *COM*:0000000000000044 hdma_usart2_tx
                            *COM*:0000000000000044 hdma_usart2_rx
                            *COM*:0000000000000054 hi2c2
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2038   .bss.PositionPidFloats:0000000000000000 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2045   .bss.SpeedPidFloats:0000000000000000 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2056   .bss.g_RxRead:0000000000000000 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2062   .bss.g_RxWritten:0000000000000000 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccK1XRMe.s:2064   .rodata.FlashDefaults:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_TIM_PWM_Init
HAL_TIMEx_MasterConfigSynchronization
HAL_TIM_PWM_ConfigChannel
HAL_TIMEx_ConfigBreakDeadTime
HAL_TIM_SlaveConfigSynchronization
HAL_TIM_PWM_Start
HAL_TIMEx_PWMN_Start
SystemCoreClock
HAL_ADC_Init
HAL_ADCEx_MultiModeConfigChannel
HAL_ADC_ConfigChannel
HAL_UART_Init
HAL_UART_Transmit
HAL_UART_IRQHandler
HAL_UART_Receive_IT
memset
pid_create
pid_limits
pid_auto
pid_tune
